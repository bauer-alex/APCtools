<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a summary table for multiple estimated GAM models — create_APCsummary • APCtools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a summary table for multiple estimated GAM models — create_APCsummary"><meta name="description" content="Create a table to summarize the overall effect strengths of the age, period
and cohort effects for models fitted with gam or
bam. The output format can be adjusted by passing
arguments to kable via the ... argument."><meta property="og:description" content="Create a table to summarize the overall effect strengths of the age, period
and cohort effects for models fitted with gam or
bam. The output format can be adjusted by passing
arguments to kable via the ... argument."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">APCtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/main_functionality.html">APC Analysis with APCtools</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/bauer-alex/APCtools"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a summary table for multiple estimated GAM models</h1>
      <small class="dont-index">Source: <a href="https://github.com/bauer-alex/APCtools/blob/main/R/create_APCsummary.R" class="external-link"><code>R/create_APCsummary.R</code></a></small>
      <div class="d-none name"><code>create_APCsummary.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a table to summarize the overall effect strengths of the age, period
and cohort effects for models fitted with <code><a href="https://rdrr.io/pkg/mgcv/man/gam.html" class="external-link">gam</a></code> or
<code><a href="https://rdrr.io/pkg/mgcv/man/bam.html" class="external-link">bam</a></code>. The output format can be adjusted by passing
arguments to <code><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></code> via the <code>...</code> argument.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_APCsummary</span><span class="op">(</span></span>
<span>  <span class="va">model_list</span>,</span>
<span>  <span class="va">dat</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  apc_range <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  kable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model-list">model_list<a class="anchor" aria-label="anchor" href="#arg-model-list"></a></dt>
<dd><p>A list of regression models estimated with
<code><a href="https://rdrr.io/pkg/mgcv/man/gam.html" class="external-link">gam</a></code> or <code><a href="https://rdrr.io/pkg/mgcv/man/bam.html" class="external-link">bam</a></code>. If the list is named, the
names are used as labels. Can also be a single model object instead of a list.</p></dd>


<dt id="arg-dat">dat<a class="anchor" aria-label="anchor" href="#arg-dat"></a></dt>
<dd><p>Dataset with columns <code>period</code> and <code>age</code>. If <code>y_var</code>
is specified, the dataset must contain the respective column. If <code>model</code>
is specified, the dataset must have been used for model estimation with
<code>gam</code> or <code>bam</code>.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>Number of digits for numeric columns. Defaults to 2.</p></dd>


<dt id="arg-apc-range">apc_range<a class="anchor" aria-label="anchor" href="#arg-apc-range"></a></dt>
<dd><p>Optional list with one or multiple elements with names</p></dd>


<dt id="arg-kable">kable<a class="anchor" aria-label="anchor" href="#arg-kable"></a></dt>
<dd><p>Should the output be a table in kable style? Defaults to
<code>TRUE</code>.
<code>"age","period","cohort"</code> to filter the data. Each element should
contain a numeric vector of values for the respective variable that should
be kept in the data. All other values are deleted before producing the table.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Optional additional arguments passed to <code><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Table created with <code><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If the model was estimated with a log or logit link, the function
automatically performs an exponential transformation of the effect.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Alexander Bauer <a href="mailto:alexander.bauer@stat.uni-muenchen.de">alexander.bauer@stat.uni-muenchen.de</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bauer-alex.github.io/APCtools/" class="external-link">APCtools</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">mgcv</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: nlme</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> This is mgcv 1.9-3. For overview type 'help("mgcv-package")'.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">travel</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create the summary table for one model</span></span></span>
<span class="r-in"><span><span class="va">model_pure</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/gam.html" class="external-link">gam</a></span><span class="op">(</span><span class="va">mainTrip_distance</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/te.html" class="external-link">te</a></span><span class="op">(</span><span class="va">age</span>, <span class="va">period</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">travel</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">create_APCsummary</span><span class="op">(</span><span class="va">model_pure</span>, dat <span class="op">=</span> <span class="va">travel</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |effect | value_withMaxEffect| value_withMinEffect| max_effect| min_effect| difference|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:------|-------------------:|-------------------:|----------:|----------:|----------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |age    |                  21|                  99|     350.58|    -727.80|    1078.38|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |period |                2018|                1971|     428.09|    -504.89|     932.97|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |cohort |                2004|                1872|     888.11|    -780.49|    1668.60|</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create the summary table for multiple models</span></span></span>
<span class="r-in"><span><span class="va">model_cov</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/gam.html" class="external-link">gam</a></span><span class="op">(</span><span class="va">mainTrip_distance</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/te.html" class="external-link">te</a></span><span class="op">(</span><span class="va">age</span>, <span class="va">period</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">household_income</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  data <span class="op">=</span> <span class="va">travel</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">model_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"pure model"</span>      <span class="op">=</span> <span class="va">model_pure</span>,</span></span>
<span class="r-in"><span>                   <span class="st">"covariate model"</span> <span class="op">=</span> <span class="va">model_cov</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">create_APCsummary</span><span class="op">(</span><span class="va">model_list</span>, dat <span class="op">=</span> <span class="va">travel</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |model           |effect | value_withMaxEffect| value_withMinEffect| max_effect| min_effect| difference|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:---------------|:------|-------------------:|-------------------:|----------:|----------:|----------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |pure model      |age    |                  21|                  99|     350.58|    -727.80|    1078.38|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |pure model      |period |                2018|                1971|     428.09|    -504.89|     932.97|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |pure model      |cohort |                2004|                1872|     888.11|    -780.49|    1668.60|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |covariate model |age    |                  14|                  99|     306.88|    -530.72|     837.60|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |covariate model |period |                2018|                1971|     404.05|    -505.27|     909.32|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |covariate model |cohort |                2004|                1872|     837.70|    -609.60|    1447.31|</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alexander Bauer, Maximilian Weigert, Hawre Jalal.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

