<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="APCtools">
<title>APC Analysis with APCtools • APCtools</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="APC Analysis with APCtools">
<meta property="og:description" content="APCtools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">APCtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/main_functionality.html">APC Analysis with APCtools</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bauer-alex/APCtools">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>APC Analysis with APCtools</h1>
                        <h4 data-toc-skip class="author">Alexander
Bauer, Maximilian Weigert</h4>
            
            <h4 data-toc-skip class="date">13.January 2023</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/bauer-alex/APCtools/blob/HEAD/vignettes/main_functionality.Rmd" class="external-link"><code>vignettes/main_functionality.Rmd</code></a></small>
      <div class="d-none name"><code>main_functionality.Rmd</code></div>
    </div>

    
    
<p>This document gives an overview of the functionality provided by the
R package <code>APCtools</code>.</p>
<p>Age-Period-Cohort (APC) analysis is used to disentangle observed
trends (e.g. of social, economic, medical or epidemiological data) to
enable conclusions about the developments over three temporal
dimensions:</p>
<ul>
<li>Age, representing the developments associated with chronological age
over someones life cycle.</li>
<li>Period, representing the developments over calendar time which
affect all age groups simultaneously.</li>
<li>Cohort, representing the developments observed over different birth
cohorts and generations.</li>
</ul>
<p>The critical challenge in APC analysis is that these main components
are linearly dependent: <span class="math display">\[
cohort = period - age
\]</span></p>
<p>Accordingly, flexible methods and visualization techniques are needed
to properly disentagle observed temporal association structures. The
<code>APCtools</code> package comprises different methods that tackle
this problem and aims to cover all steps of an APC analysis. This
includes state-of-the-art descriptive visualizations as well as
visualization and summary functions based on the estimation of a
generalized additive regression model (GAM). The main functionalities of
the package are highlighted in the following.</p>
<p>For details on the statistical methodology see <a href="https://doi.org/10.1177/1354816620987198" class="external-link">Weigert et
al. (2021)</a> or our corresponding <a href="https://www.researchgate.net/publication/353852226_Visualization_techniques_for_semiparametric_APC_analysis_Using_Generalized_Additive_Models_to_examine_touristic_travel_distances" class="external-link">research
poster</a>. The <em>hexamaps</em> (hexagonally binned heatmaps) are
outlined in <a href="https://doi.org/10.1097/EDE.0000000000001236" class="external-link">Jalal
&amp; Burke (2020)</a>.</p>
<div class="section level2">
<h2 id="load-relevant-packages">Load relevant packages<a class="anchor" aria-label="anchor" href="#load-relevant-packages"></a>
</h2>
<p>Before we start, let’s load the relevant packages for the following
analyses.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bauer-alex.github.io/APCtools/" class="external-link">APCtools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>    <span class="co"># general data handling</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">mgcv</span><span class="op">)</span>     <span class="co"># estimation of generalized additive regression models (GAMs)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span>  <span class="co"># data visualization</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rpkgs.datanovia.com/ggpubr/" class="external-link">ggpubr</a></span><span class="op">)</span>   <span class="co"># arranging multiple ggplots in a grid with ggarrange()</span></span>
<span></span>
<span><span class="co"># set the global theme of all plots</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-data">Example data<a class="anchor" aria-label="anchor" href="#example-data"></a>
</h2>
<p>APC analyses require long-term panel or repeated cross-sectional
data. The package includes two exemplary datasets on the travel behavior
of German tourists (dataset <code>travel</code>) and the number of
unintentional drug overdose deaths in the United States
(<code>drug_deaths</code>). See the respective help pages
<code><a href="../reference/travel.html">?travel</a></code> and <code><a href="../reference/drug_deaths.html">?drug_deaths</a></code> for details.</p>
<p>In the following, we will use the <code>travel</code> dataset to
investigate if travel distances of the main trip of German travelers
mainly change over the life cycle of a person (age effect), macro-level
developments like decreasing air travel prices in the last decades
(period effect) or the generational membership of a person, which is
shaped by similar socialization and historical experiences (cohort
effect).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">travel</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="descriptive-visualizations">Descriptive visualizations<a class="anchor" aria-label="anchor" href="#descriptive-visualizations"></a>
</h2>
<p>Different functions are available for descriptively visualizing
observed structures. This includes plots for the marginal distribution
of some variable of interest, 1D plots for the development of some
variable over age, period or cohort, as well as density matrices that
visualize the development over all temporal dimensions.</p>
<div class="section level3">
<h3 id="marginal-distribution-of-one-variable">Marginal distribution of one variable<a class="anchor" aria-label="anchor" href="#marginal-distribution-of-one-variable"></a>
</h3>
<p>The marginal distribution of a variable can be visualized using
<code>plot_density</code>. Metric variables can be plotted using a
density plot or a boxplot, while categorical variables can be plotted
using a bar chart.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gg1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_density.html">plot_density</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">travel</span>, y_var <span class="op">=</span> <span class="st">"mainTrip_distance"</span>, log_scale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">gg2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_density.html">plot_density</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">travel</span>, y_var <span class="op">=</span> <span class="st">"mainTrip_distance"</span>, log_scale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                    plot_type <span class="op">=</span> <span class="st">"boxplot"</span><span class="op">)</span></span>
<span><span class="va">gg3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_density.html">plot_density</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">travel</span>, y_var <span class="op">=</span> <span class="st">"household_size"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggpubr</span><span class="fu">::</span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/ggarrange.html" class="external-link">ggarrange</a></span><span class="op">(</span><span class="va">gg1</span>, <span class="va">gg2</span>, <span class="va">gg3</span>, nrow <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-2-1.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="d-one-variable-against-age-period-or-cohort">1D: One variable against age, period or cohort<a class="anchor" aria-label="anchor" href="#d-one-variable-against-age-period-or-cohort"></a>
</h3>
<p>Plotting the distribution of a variable against age, period or cohort
is possible with function <code>plot_variable</code>. The distribution
of metric and categorical variables is visualized using boxplots or line
charts (see argument <code>plot_type</code>) and bar charts,
respectively. The latter by default show relative frequencies, but can
be changed to show absolute numbers by specifying argument
<code>geomBar_position = "stack"</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_variable.html">plot_variable</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">travel</span>, y_var <span class="op">=</span> <span class="st">"mainTrip_distance"</span>,</span>
<span>              apc_dimension <span class="op">=</span> <span class="st">"period"</span>, plot_type <span class="op">=</span> <span class="st">"line"</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-3-1.png" width="960"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_variable.html">plot_variable</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">travel</span>, y_var <span class="op">=</span> <span class="st">"household_size"</span>, apc_dimension <span class="op">=</span> <span class="st">"period"</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-3-2.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="d-density-matrices">2D: Density matrices<a class="anchor" aria-label="anchor" href="#d-density-matrices"></a>
</h3>
<p>To include all temporal dimensions in one plot, <code>APCtools</code>
contains function <code>plot_densityMatrix</code>. In Weigert et
al. (2021), this plot type was referred to as <em>ridgeline matrix</em>
when plotting multiple density plots for a metric variable. The basic
principle of a density matrix is to (i) visualize two of the temporal
dimensions on the x- and y-axis (specified using the argument
<code>dimensions</code>), s.t. the third temporal dimension is
represented on the diagonals of the matrix, and (ii) to categorize the
respective variables on the x- and y-axis in meaningful groups. The
function then creates a grid, where each cell contains the distribution
of the selected <code>y_var</code> variable in the respective
category.</p>
<p>By default, age and period are depicted on the x- and y-axis,
respectively, and cohort on the diagonals. The categorization is defined
by specifying two of the arguments <code>age_groups</code>,
<code>period_groups</code> and <code>cohort_groups</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">age_groups</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">80</span>,<span class="fl">89</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">70</span>,<span class="fl">79</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">60</span>,<span class="fl">69</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">59</span><span class="op">)</span>,</span>
<span>                      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40</span>,<span class="fl">49</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">39</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">29</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">period_groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1970</span>,<span class="fl">1979</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1980</span>,<span class="fl">1989</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1990</span>,<span class="fl">1999</span><span class="op">)</span>,</span>
<span>                      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2000</span>,<span class="fl">2009</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2010</span>,<span class="fl">2019</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_densityMatrix.html">plot_densityMatrix</a></span><span class="op">(</span>dat              <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                   y_var            <span class="op">=</span> <span class="st">"mainTrip_distance"</span>,</span>
<span>                   age_groups       <span class="op">=</span> <span class="va">age_groups</span>,</span>
<span>                   period_groups    <span class="op">=</span> <span class="va">period_groups</span>,</span>
<span>                   log_scale        <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-4-1.png" width="768"></p>
<p>To highlight the effect of the variable depicted on the diagonal
(here: cohort), different diagonals can be highlighted using argument
<code>highlight_diagonals</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_densityMatrix.html">plot_densityMatrix</a></span><span class="op">(</span>dat                 <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                   y_var               <span class="op">=</span> <span class="st">"mainTrip_distance"</span>,</span>
<span>                   age_groups          <span class="op">=</span> <span class="va">age_groups</span>,</span>
<span>                   period_groups       <span class="op">=</span> <span class="va">period_groups</span>,</span>
<span>                   highlight_diagonals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"born 1950 - 1959"</span> <span class="op">=</span> <span class="fl">8</span>,</span>
<span>                                              <span class="st">"born 1970 - 1979"</span> <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>                   log_scale           <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-5-1.png" width="960"></p>
<p>For metric variables it is further possible to use a color scale for
the density function (arguments <code>y_var_cat_breaks</code> and
<code>y_var_cat_labels</code>) to highlight local developments over the
APC dimensions.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dist_cat_breaks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">500</span>,<span class="fl">1000</span>,<span class="fl">2000</span>,<span class="fl">6000</span>,<span class="fl">100000</span><span class="op">)</span></span>
<span><span class="va">dist_cat_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"&lt; 500 km"</span>,<span class="st">"500 - 1,000 km"</span>, <span class="st">"1,000 - 2,000 km"</span>, <span class="st">"2,000 - 6,000 km"</span>, <span class="st">"&gt; 6,000 km"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_densityMatrix.html">plot_densityMatrix</a></span><span class="op">(</span>dat              <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                   y_var            <span class="op">=</span> <span class="st">"mainTrip_distance"</span>,</span>
<span>                   age_groups       <span class="op">=</span> <span class="va">age_groups</span>,</span>
<span>                   period_groups    <span class="op">=</span> <span class="va">period_groups</span>,</span>
<span>                   log_scale        <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   y_var_cat_breaks <span class="op">=</span> <span class="va">dist_cat_breaks</span>,</span>
<span>                   y_var_cat_labels <span class="op">=</span> <span class="va">dist_cat_labels</span>,</span>
<span>                   highlight_diagonals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"born 1950 - 1959"</span> <span class="op">=</span> <span class="fl">8</span>,</span>
<span>                                              <span class="st">"born 1970 - 1979"</span> <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>                   legend_title     <span class="op">=</span> <span class="st">"Distance category"</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-6-1.png" width="960"></p>
<p>Alternatively to plotting a conditional density in each matrix cell,
metric variables can also be visualized using boxplots by specifying
<code>plot_type = "boxplot"</code>. Categorical variables are
automatically plotted using conditional bar plots.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_densityMatrix.html">plot_densityMatrix</a></span><span class="op">(</span>dat                 <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                   y_var               <span class="op">=</span> <span class="st">"household_size"</span>,</span>
<span>                   age_groups          <span class="op">=</span> <span class="va">age_groups</span>,</span>
<span>                   period_groups       <span class="op">=</span> <span class="va">period_groups</span>,</span>
<span>                   highlight_diagonals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"born 1950 - 1959"</span> <span class="op">=</span> <span class="fl">8</span>,</span>
<span>                                              <span class="st">"born 1970 - 1979"</span> <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-7-1.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="d-heatmaps">2D: Heatmaps<a class="anchor" aria-label="anchor" href="#d-heatmaps"></a>
</h3>
<p>Similar to density matrices, heatmaps simultaneously visualize all
three APC dimensions. Instead of individual distributions in separated
categories, however, a color scale is used to depict the mean value in a
specific region. When setting <code>bin_heatmap = FALSE</code>, the
function <code>plot_APCheatmap</code> shows the average observed values
of a metric variable for each observed combination of age and period
values (if <code>dimensions = c("period","age")</code>). The borders of
groups along the diagonal can be marked using argument
<code>markLines_list</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_APCheatmap.html">plot_APCheatmap</a></span><span class="op">(</span>dat            <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                y_var          <span class="op">=</span> <span class="st">"mainTrip_distance"</span>,</span>
<span>                y_var_logScale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                bin_heatmap    <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                markLines_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cohort <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1900</span>,<span class="fl">1920</span>,<span class="fl">1939</span>,<span class="fl">1946</span>,</span>
<span>                                                 <span class="fl">1966</span>,<span class="fl">1982</span>,<span class="fl">1994</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-8-1.png" width="768"></p>
<p>By default, the heatmap is binned in five year blocks along the x-
and y-axis to focus on larger-scale developments. Note that the grid
used for binning can flexibly be defined with the argument
<code>bin_heatmapGrid_list</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_APCheatmap.html">plot_APCheatmap</a></span><span class="op">(</span>dat            <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                y_var          <span class="op">=</span> <span class="st">"mainTrip_distance"</span>,</span>
<span>                y_var_logScale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                markLines_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cohort <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1900</span>,<span class="fl">1920</span>,<span class="fl">1939</span>,<span class="fl">1946</span>,</span>
<span>                                                 <span class="fl">1966</span>,<span class="fl">1982</span>,<span class="fl">1994</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-9-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="d-hexamaps">2D: Hexamaps<a class="anchor" aria-label="anchor" href="#d-hexamaps"></a>
</h3>
<p>As an alternative to classical heatmaps observed developments can
also be visualized using <em>hexamaps</em>, i.e. hexagonally binned
heatmaps with rotated axes to give all three APC dimensions similar
visual weight. This resolves the central problem of classical heatmaps
that developments along the diagonal dimension are visually much harder
to grasp than developments along the x- or y-axis. Function
<code>plot_APChexamap</code> can be called similarly to
<code>plot_APCheatmap</code>. Note, however, that hexamaps are currently
implemented using the base R plot functions and not based on
<code>ggplot2</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_APChexamap.html">plot_APChexamap</a></span><span class="op">(</span>dat            <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                y_var          <span class="op">=</span> <span class="st">"mainTrip_distance"</span>,</span>
<span>                y_var_logScale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-10-1.png" width="960"></p>
</div>
</div>
<div class="section level2">
<h2 id="model-based-analyses">Model-based analyses<a class="anchor" aria-label="anchor" href="#model-based-analyses"></a>
</h2>
<p>After getting a descriptive overview of the data with the functions
outlined above, an established approach to analyze APC structures in
more detail is to use the semiparametric approach offered by generalized
additive regression models (GAMs). This regression-based approach offers
several benefits:</p>
<ul>
<li>Compared to alternative regression-based APC approaches it
circumvents the issue of linear dependency of the APC dimensions by
estimating a flexible two-dimensional tensor product surface.</li>
<li>The model separates the underlying smooth effects of age, period and
cohort from random variation in the data and allows for the subsequent
visualization of marginal age, period and cohort effects.</li>
<li>While the above heatmaps and hexamaps can only be used to visualize
the observed distribution of <em>metric</em> variables, the
regression-based approach also allows for estimating and plotting the
mean structure in settings with a categorical response variable, for
example by estimating a logistic regression model.</li>
<li>The regression-based approach allows for accounting for further
control variables in the model. E.g., when analyzing how travel
distances developed over the last decades, each persons income can be
included as a covariate in the model estimation to account for income
differences between travelers in different decades.</li>
</ul>
<p>For estimating a regression model we utilize the function
<code>gam</code> implemented in package <code>mgcv</code>. For further
methodological details see Weigert et al. (2021).</p>
<p>Let’s fit two GAM models, one without and one with further control
variables. See <code><a href="../reference/travel.html">?travel</a></code> for an explanation of the used
variables. The tensor product surface is estimated with two marginal
P-spline bases with eight basis functions each.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># GAM without covariates</span></span>
<span><span class="va">model_pure</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/gam.html" class="external-link">gam</a></span><span class="op">(</span><span class="va">mainTrip_distance</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/te.html" class="external-link">te</a></span><span class="op">(</span><span class="va">age</span>, <span class="va">period</span>, bs <span class="op">=</span> <span class="st">"ps"</span>, k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">8</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                  data <span class="op">=</span> <span class="va">travel</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># GAM including covariates</span></span>
<span><span class="va">model_cov</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/gam.html" class="external-link">gam</a></span><span class="op">(</span><span class="va">mainTrip_distance</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/te.html" class="external-link">te</a></span><span class="op">(</span><span class="va">age</span>, <span class="va">period</span>, bs <span class="op">=</span> <span class="st">"ps"</span>, k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">8</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>                    <span class="va">residence_region</span> <span class="op">+</span> <span class="va">household_size</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">s</a></span><span class="op">(</span><span class="va">household_income</span><span class="op">)</span>,</span>
<span>                  data <span class="op">=</span> <span class="va">travel</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create a named list of the two models, useful for some functions</span></span>
<span><span class="va">model_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"pure model"</span>      <span class="op">=</span> <span class="va">model_pure</span>,</span>
<span>                   <span class="st">"covariate model"</span> <span class="op">=</span> <span class="va">model_cov</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="heatmaps">Heatmaps<a class="anchor" aria-label="anchor" href="#heatmaps"></a>
</h3>
<p>Similary to the descriptive visualization outlined above, the tensor
product surface estimated with the regression model can be created with
<code>plot_APCheatmap</code>, by passing the model object as argument
<code>model</code> to the function.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_APCheatmap.html">plot_APCheatmap</a></span><span class="op">(</span>dat   <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                model <span class="op">=</span> <span class="va">model_pure</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-12-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="hexamaps">Hexamaps<a class="anchor" aria-label="anchor" href="#hexamaps"></a>
</h3>
<p>The same applies to the hexamaps. By calling
<code>plot_APChexamap</code> and specifying the <code>model</code>
argument, a hexamap of the estimated mean structure is created.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_APChexamap.html">plot_APChexamap</a></span><span class="op">(</span>dat   <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                model <span class="op">=</span> <span class="va">model_pure</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-13-1.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="marginal-apc-effects">Marginal APC effects<a class="anchor" aria-label="anchor" href="#marginal-apc-effects"></a>
</h3>
<p>Based on the tensor product surface estimated through the regression
model, marginal effects can be extracted by taking the average of all
values on the surface along one dimension. Marginal effects can be
visualized using <code>plot_marginalAPCeffects</code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_marginalAPCeffects.html">plot_marginalAPCeffects</a></span><span class="op">(</span>model    <span class="op">=</span> <span class="va">model_pure</span>,</span>
<span>                        dat      <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                        variable <span class="op">=</span> <span class="st">"age"</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-14-1.png" width="960"></p>
<p>The marginal effects of multiple models can also be visualized in one
plot using <code>plot_jointMarginalAPCeffects</code>.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_jointMarginalAPCeffects.html">plot_jointMarginalAPCeffects</a></span><span class="op">(</span>model_list  <span class="op">=</span> <span class="va">model_list</span>,</span>
<span>                             dat         <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                             vlines_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"cohort"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1900</span>,<span class="fl">1920</span>,<span class="fl">1939</span>,</span>
<span>                                                             <span class="fl">1946</span>,<span class="fl">1966</span>,<span class="fl">1982</span>,</span>
<span>                                                             <span class="fl">1994</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-15-1.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="partial-apc-plots">Partial APC plots<a class="anchor" aria-label="anchor" href="#partial-apc-plots"></a>
</h3>
<p>partial APC plots can be used to get deeper insights into a specific
temporal effect and the interrelations between the temporal dimensions.
These plots show the estimated effect for one temporal dimension
dependent on the remaining two dimensions. The mean marginal effect is
marked as a bold blue line, and one grayscale line is added for each
partial effect, that is, for the estimated differences when just
focusing on a specific age, period or cohort group.</p>
<p>In the following example, the period effect is visualized, dependent
on different age groups and cohorts. See <a href="https://doi.org/10.1177/1354816620987198" class="external-link">Weigert et
al. (2021)</a> for details on the interpretation of partial APC
plots.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_partialAPCeffects.html">plot_partialAPCeffects</a></span><span class="op">(</span>model    <span class="op">=</span> <span class="va">model_pure</span>,</span>
<span>                       dat      <span class="op">=</span> <span class="va">travel</span>,</span>
<span>                       variable <span class="op">=</span> <span class="st">"period"</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-16-1.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="apc-summary-table">APC summary table<a class="anchor" aria-label="anchor" href="#apc-summary-table"></a>
</h3>
<p>The function <code>create_APCsummary</code> can be used to get a
compact overview of the magnitude of the individual APC effects. It
extracts information about the minimum and maximum values of the
marginal APC effects and computes the overall size of each effect.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/create_APCsummary.html">create_APCsummary</a></span><span class="op">(</span>model_list <span class="op">=</span> <span class="va">model_list</span>,</span>
<span>                  dat        <span class="op">=</span> <span class="va">travel</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="16%">
<col width="7%">
<col width="20%">
<col width="20%">
<col width="11%">
<col width="11%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">model</th>
<th align="left">effect</th>
<th align="right">value_withMaxEffect</th>
<th align="right">value_withMinEffect</th>
<th align="right">max_effect</th>
<th align="right">min_effect</th>
<th align="right">difference</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">pure model</td>
<td align="left">age</td>
<td align="right">24</td>
<td align="right">99</td>
<td align="right">543.75</td>
<td align="right">-655.35</td>
<td align="right">1199.10</td>
</tr>
<tr class="even">
<td align="left">pure model</td>
<td align="left">period</td>
<td align="right">2018</td>
<td align="right">1971</td>
<td align="right">424.94</td>
<td align="right">-553.66</td>
<td align="right">978.60</td>
</tr>
<tr class="odd">
<td align="left">pure model</td>
<td align="left">cohort</td>
<td align="right">1989</td>
<td align="right">1872</td>
<td align="right">715.82</td>
<td align="right">-1052.50</td>
<td align="right">1768.32</td>
</tr>
<tr class="even">
<td align="left">covariate model</td>
<td align="left">age</td>
<td align="right">22</td>
<td align="right">99</td>
<td align="right">414.07</td>
<td align="right">-593.46</td>
<td align="right">1007.53</td>
</tr>
<tr class="odd">
<td align="left">covariate model</td>
<td align="left">period</td>
<td align="right">2015</td>
<td align="right">1971</td>
<td align="right">821.62</td>
<td align="right">-2147.34</td>
<td align="right">2968.97</td>
</tr>
<tr class="even">
<td align="left">covariate model</td>
<td align="left">cohort</td>
<td align="right">1997</td>
<td align="right">1894</td>
<td align="right">1519.87</td>
<td align="right">-948.62</td>
<td align="right">2468.49</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="covariate-effect-plots">Covariate effect plots<a class="anchor" aria-label="anchor" href="#covariate-effect-plots"></a>
</h3>
<p>Control variables in the regression models can be visualized using
the functions <code>plot_linearEffects</code> and
<code>plot_1Dsmooth</code> which create an effect plot of all linear
effects in a model and a line plot of a one-dimensional smooth effect,
respectively.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">APCtools</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_linearEffects.html">plot_linearEffects</a></span><span class="op">(</span><span class="va">model_cov</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-18-1.png" width="960"></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">APCtools</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_1Dsmooth.html">plot_1Dsmooth</a></span><span class="op">(</span><span class="va">model_cov</span>, select <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="main_functionality_files/figure-html/unnamed-chunk-18-2.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="model-summary-tables">Model summary tables<a class="anchor" aria-label="anchor" href="#model-summary-tables"></a>
</h3>
<p>The function <code>create_modelSummary</code> can be used to create
publication-ready tables of the full model results. It can either be
applied to a list of multiple models or a list of a single model, and
returns a list with both a table for all linear coefficients and all
nonlinear estimates.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_modelSummary.html">create_modelSummary</a></span><span class="op">(</span><span class="va">model_list</span><span class="op">)</span></span>
<span><span class="va">summary_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="17%">
<col width="39%">
<col width="9%">
<col width="6%">
<col width="9%">
<col width="9%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left">model</th>
<th align="left">param</th>
<th align="right">coef</th>
<th align="right">se</th>
<th align="right">CI_lower</th>
<th align="right">CI_upper</th>
<th align="left">pvalue</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">pure model</td>
<td align="left">(Intercept)</td>
<td align="right">1417.52</td>
<td align="right">13.59</td>
<td align="right">1390.88</td>
<td align="right">1444.15</td>
<td align="left">-</td>
</tr>
<tr class="even">
<td align="left">covariate model</td>
<td align="left">(Intercept)</td>
<td align="right">2327.09</td>
<td align="right">39.99</td>
<td align="right">2248.71</td>
<td align="right">2405.47</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left">covariate model</td>
<td align="left">residence_regionFormer East Germany</td>
<td align="right">-95.93</td>
<td align="right">42.68</td>
<td align="right">-179.57</td>
<td align="right">-12.28</td>
<td align="left">0.0246</td>
</tr>
<tr class="even">
<td align="left">covariate model</td>
<td align="left">household_size2 persons</td>
<td align="right">-546.46</td>
<td align="right">50.28</td>
<td align="right">-645.02</td>
<td align="right">-447.91</td>
<td align="left">&lt;.0001</td>
</tr>
<tr class="odd">
<td align="left">covariate model</td>
<td align="left">household_size3 persons</td>
<td align="right">-1164.62</td>
<td align="right">62.36</td>
<td align="right">-1286.85</td>
<td align="right">-1042.39</td>
<td align="left">&lt;.0001</td>
</tr>
<tr class="even">
<td align="left">covariate model</td>
<td align="left">household_size4 persons</td>
<td align="right">-1503.18</td>
<td align="right">66.39</td>
<td align="right">-1633.31</td>
<td align="right">-1373.06</td>
<td align="left">&lt;.0001</td>
</tr>
<tr class="odd">
<td align="left">covariate model</td>
<td align="left">household_size5+ persons</td>
<td align="right">-1647.24</td>
<td align="right">94.85</td>
<td align="right">-1833.14</td>
<td align="right">-1461.34</td>
<td align="left">&lt;.0001</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_list</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">model</th>
<th align="left">param</th>
<th align="right">edf</th>
<th align="left">pvalue</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">pure model</td>
<td align="left">te(age,period)</td>
<td align="right">28.74</td>
<td align="left">&lt;.0001</td>
</tr>
<tr class="even">
<td align="left">covariate model</td>
<td align="left">te(age,period)</td>
<td align="right">18.54</td>
<td align="left">&lt;.0001</td>
</tr>
<tr class="odd">
<td align="left">covariate model</td>
<td align="left">s(household_income)</td>
<td align="right">8.27</td>
<td align="left">&lt;.0001</td>
</tr>
</tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Alexander Bauer, Maximilian Weigert, Hawre Jalal.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
