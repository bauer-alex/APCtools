[{"path":"/articles/main_functionality.html","id":"load-relevant-packages","dir":"Articles","previous_headings":"","what":"Load relevant packages","title":"APC Analysis with APCtools","text":"start, let’s load relevant packages following analyses.","code":"library(APCtools) library(dplyr)    # general data handling library(mgcv)     # estimation of generalized additive regression models (GAMs) library(ggplot2)  # data visualization library(ggpubr)   # arranging multiple ggplots in a grid with ggarrange()  # set the global theme of all plots theme_set(theme_minimal())"},{"path":"/articles/main_functionality.html","id":"example-data","dir":"Articles","previous_headings":"","what":"Example data","title":"APC Analysis with APCtools","text":"APC analyses require long-term panel repeated cross-sectional data. package includes two exemplary datasets travel behavior German tourists (dataset travel) number unintentional drug overdose deaths United States (drug_deaths). See respective help pages ?travel ?drug_deaths details. following, use travel dataset investigate travel distances main trip German travelers mainly change life cycle person (age effect), macro-level developments like decreasing air travel prices last decades (period effect) generational membership person, shaped similar socialization historical experiences (cohort effect).","code":"data(travel)"},{"path":"/articles/main_functionality.html","id":"descriptive-visualizations","dir":"Articles","previous_headings":"","what":"Descriptive visualizations","title":"APC Analysis with APCtools","text":"Different functions available descriptively visualizing observed structures. includes plots marginal distribution variable interest, 1D plots development variable age, period cohort, well density matrices visualize development temporal dimensions.","code":""},{"path":"/articles/main_functionality.html","id":"marginal-distribution-of-one-variable","dir":"Articles","previous_headings":"Descriptive visualizations","what":"Marginal distribution of one variable","title":"APC Analysis with APCtools","text":"marginal distribution variable can visualized using plot_density. Metric variables can plotted using density plot boxplot, categorical variables can plotted using bar chart.","code":"gg1 <- plot_density(dat = travel, y_var = \"mainTrip_distance\", log_scale = TRUE) gg2 <- plot_density(dat = travel, y_var = \"mainTrip_distance\", log_scale = TRUE,                     plot_type = \"boxplot\") gg3 <- plot_density(dat = travel, y_var = \"household_size\")  ggpubr::ggarrange(gg1, gg2, gg3, nrow = 1)"},{"path":"/articles/main_functionality.html","id":"d-one-variable-against-age-period-or-cohort","dir":"Articles","previous_headings":"Descriptive visualizations","what":"1D: One variable against age, period or cohort","title":"APC Analysis with APCtools","text":"Plotting distribution variable age, period cohort possible function plot_variable. distribution metric categorical variables visualized using boxplots line charts (see argument plot_type) bar charts, respectively. latter default show relative frequencies, can changed show absolute numbers specifying argument geomBar_position = \"stack\".","code":"plot_variable(dat = travel, y_var = \"mainTrip_distance\",               apc_dimension = \"period\", plot_type = \"line\", ylim = c(0,1000)) plot_variable(dat = travel, y_var = \"household_size\", apc_dimension = \"period\")"},{"path":"/articles/main_functionality.html","id":"d-density-matrices","dir":"Articles","previous_headings":"Descriptive visualizations","what":"2D: Density matrices","title":"APC Analysis with APCtools","text":"include temporal dimensions one plot, APCtools contains function plot_densityMatrix. Weigert et al. (2021), plot type referred ridgeline matrix plotting multiple density plots metric variable. basic principle density matrix () visualize two temporal dimensions x- y-axis (specified using argument dimensions), s.t. third temporal dimension represented diagonals matrix, (ii) categorize respective variables x- y-axis meaningful groups. function creates grid, cell contains distribution selected y_var variable respective category. default, age period depicted x- y-axis, respectively, cohort diagonals. categorization defined specifying two arguments age_groups, period_groups cohort_groups.  highlight effect variable depicted diagonal (: cohort), different diagonals can highlighted using argument highlight_diagonals.  metric variables possible use color scale density function (arguments y_var_cat_breaks y_var_cat_labels) highlight local developments APC dimensions.  Alternatively plotting conditional density matrix cell, metric variables can also visualized using boxplots specifying plot_type = \"boxplot\". Categorical variables automatically plotted using conditional bar plots.","code":"age_groups    <- list(c(80,89),c(70,79),c(60,69),c(50,59),                       c(40,49),c(30,39),c(20,29)) period_groups <- list(c(1971,1979),c(1980,1989),c(1990,1999),                       c(2000,2009),c(2010,2018))  plot_densityMatrix(dat              = travel,                    y_var            = \"mainTrip_distance\",                    age_groups       = age_groups,                    period_groups    = period_groups,                    log_scale        = TRUE) plot_densityMatrix(dat                 = travel,                    y_var               = \"mainTrip_distance\",                    age_groups          = age_groups,                    period_groups       = period_groups,                    highlight_diagonals = list(\"born 1950 - 1959\" = 8,                                               \"born 1970 - 1979\" = 10),                    log_scale           = TRUE) dist_cat_breaks <- c(1,500,1000,2000,6000,100000) dist_cat_labels <- c(\"< 500 km\",\"500 - 1,000 km\", \"1,000 - 2,000 km\", \"2,000 - 6,000 km\", \"> 6,000 km\")  plot_densityMatrix(dat              = travel,                    y_var            = \"mainTrip_distance\",                    age_groups       = age_groups,                    period_groups    = period_groups,                    log_scale        = TRUE,                    y_var_cat_breaks = dist_cat_breaks,                    y_var_cat_labels = dist_cat_labels,                    highlight_diagonals = list(\"born 1950 - 1959\" = 8,                                               \"born 1970 - 1979\" = 10),                    legend_title     = \"Distance category\") plot_densityMatrix(dat                 = travel,                    y_var               = \"household_size\",                    age_groups          = age_groups,                    period_groups       = period_groups,                    highlight_diagonals = list(\"born 1950 - 1959\" = 8,                                               \"born 1970 - 1979\" = 10))"},{"path":"/articles/main_functionality.html","id":"d-heatmaps","dir":"Articles","previous_headings":"Descriptive visualizations","what":"2D: Heatmaps","title":"APC Analysis with APCtools","text":"Similar density matrices, heatmaps simultaneously visualize three APC dimensions. Instead individual distributions separated categories, however, color scale used depict mean value specific region. setting bin_heatmap = FALSE, function plot_APCheatmap shows average observed values metric variable observed combination age period values (dimensions = c(\"period\",\"age\")). borders groups along diagonal can marked using argument markLines_list.  default, heatmap binned five year blocks along x- y-axis focus larger-scale developments. Note grid used binning can flexibly defined argument bin_heatmapGrid_list.","code":"plot_APCheatmap(dat            = travel,                 y_var          = \"mainTrip_distance\",                 y_var_logScale = TRUE,                 bin_heatmap    = FALSE,                 markLines_list = list(cohort = c(1900,1920,1939,1946,                                                  1966,1982,1994))) plot_APCheatmap(dat            = travel,                 y_var          = \"mainTrip_distance\",                 y_var_logScale = TRUE,                 markLines_list = list(cohort = c(1900,1920,1939,1946,                                                  1966,1982,1994)))"},{"path":"/articles/main_functionality.html","id":"d-hexamaps","dir":"Articles","previous_headings":"Descriptive visualizations","what":"2D: Hexamaps","title":"APC Analysis with APCtools","text":"alternative classical heatmaps observed developments can also visualized using hexamaps, .e. hexagonally binned heatmaps rotated axes give three APC dimensions similar visual weight. resolves central problem classical heatmaps developments along diagonal dimension visually much harder grasp developments along x- y-axis. Function plot_APChexamap can called similarly plot_APCheatmap. Note, however, hexamaps currently implemented using base R plot functions based ggplot2.","code":"plot_APChexamap(dat            = travel,                 y_var          = \"mainTrip_distance\",                 y_var_logScale = TRUE)"},{"path":"/articles/main_functionality.html","id":"model-based-analyses","dir":"Articles","previous_headings":"","what":"Model-based analyses","title":"APC Analysis with APCtools","text":"getting descriptive overview data functions outlined , established approach analyze APC structures detail use semiparametric approach offered generalized additive regression models (GAMs). regression-based approach offers several benefits: Compared alternative regression-based APC approaches circumvents issue linear dependency APC dimensions estimating flexible two-dimensional tensor product surface. model separates underlying smooth effects age, period cohort random variation data allows subsequent visualization marginal age, period cohort effects. heatmaps hexamaps can used visualize observed distribution metric variables, regression-based approach also allows estimating plotting mean structure settings categorical response variable, example estimating logistic regression model. regression-based approach allows accounting control variables model. E.g., analyzing travel distances developed last decades, persons income can included covariate model estimation account income differences travelers different decades. estimating regression model utilize function gam implemented package mgcv. methodological details see Weigert et al. (2021). Let’s fit two GAM models, one without one control variables. See ?travel explanation used variables. tensor product surface estimated two marginal P-spline bases eight basis functions .","code":"# GAM without covariates model_pure <- gam(mainTrip_distance ~ te(age, period, bs = \"ps\", k = c(8,8)),                   data = travel)  # GAM including covariates model_cov  <- gam(mainTrip_distance ~ te(age, period, bs = \"ps\", k = c(8,8)) +                     residence_region + household_size + s(household_income),                   data = travel)  # create a named list of the two models, useful for some functions model_list <- list(\"pure model\"      = model_pure,                    \"covariate model\" = model_cov)"},{"path":"/articles/main_functionality.html","id":"heatmaps","dir":"Articles","previous_headings":"Model-based analyses","what":"Heatmaps","title":"APC Analysis with APCtools","text":"Similary descriptive visualization outlined , tensor product surface estimated regression model can created plot_APCheatmap, passing model object argument model function.","code":"plot_APCheatmap(dat   = travel,                 model = model_pure)"},{"path":"/articles/main_functionality.html","id":"hexamaps","dir":"Articles","previous_headings":"Model-based analyses","what":"Hexamaps","title":"APC Analysis with APCtools","text":"applies hexamaps. calling plot_APChexamap specifying model argument, hexamap estimated mean structure created.","code":"plot_APChexamap(dat   = travel,                 model = model_pure)"},{"path":"/articles/main_functionality.html","id":"marginal-apc-effects","dir":"Articles","previous_headings":"Model-based analyses","what":"Marginal APC effects","title":"APC Analysis with APCtools","text":"Based tensor product surface estimated regression model, marginal effects can extracted taking average values surface along one dimension. Marginal effects can visualized using plot_marginalAPCeffects.  marginal effects multiple models can also visualized one plot using plot_jointMarginalAPCeffects.","code":"plot_marginalAPCeffects(model    = model_pure,                         dat      = travel,                         variable = \"age\") plot_jointMarginalAPCeffects(model_list  = model_list,                              dat         = travel,                              vlines_list = list(\"cohort\" = c(1900,1920,1939,                                                              1946,1966,1982,                                                              1994)))"},{"path":"/articles/main_functionality.html","id":"partial-apc-plots","dir":"Articles","previous_headings":"Model-based analyses","what":"Partial APC plots","title":"APC Analysis with APCtools","text":"partial APC plots can used get deeper insights specific temporal effect interrelations temporal dimensions. plots show estimated effect one temporal dimension dependent remaining two dimensions. mean marginal effect marked bold blue line, one grayscale line added partial effect, , estimated differences just focusing specific age, period cohort group. following example, period effect visualized, dependent different age groups cohorts. See Weigert et al. (2021) details interpretation partial APC plots.","code":"plot_partialAPCeffects(model    = model_pure,                        dat      = travel,                        variable = \"period\")"},{"path":"/articles/main_functionality.html","id":"apc-summary-table","dir":"Articles","previous_headings":"Model-based analyses","what":"APC summary table","title":"APC Analysis with APCtools","text":"function create_APCsummary can used get compact overview magnitude individual APC effects. extracts information minimum maximum values marginal APC effects computes overall size effect.","code":"create_APCsummary(model_list = model_list,                   dat        = travel)"},{"path":"/articles/main_functionality.html","id":"covariate-effect-plots","dir":"Articles","previous_headings":"Model-based analyses","what":"Covariate effect plots","title":"APC Analysis with APCtools","text":"Control variables regression models can visualized using functions plot_linearEffects plot_1Dsmooth create effect plot linear effects model line plot one-dimensional smooth effect, respectively.","code":"APCtools::plot_linearEffects(model_cov) APCtools::plot_1Dsmooth(model_cov, select = 2)"},{"path":"/articles/main_functionality.html","id":"model-summary-tables","dir":"Articles","previous_headings":"Model-based analyses","what":"Model summary tables","title":"APC Analysis with APCtools","text":"function create_modelSummary can used create publication-ready tables full model results. can either applied list multiple models list single model, returns list table linear coefficients nonlinear estimates.","code":"summary_list <- create_modelSummary(model_list) summary_list[[1]] summary_list[[2]]"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alexander Bauer. Author, maintainer. Maximilian Weigert. Author. Hawre Jalal. Author.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bauer , Weigert M, Jalal H (2022). APCtools: Routines Descriptive Model-Based APC Analysis. R package version 1.0.2, https://bauer-alex.github.io/APCtools/.","code":"@Manual{,   title = {APCtools: Routines for Descriptive and Model-Based APC Analysis},   author = {Alexander Bauer and Maximilian Weigert and Hawre Jalal},   year = {2022},   note = {R package version 1.0.2},   url = {https://bauer-alex.github.io/APCtools/}, }"},{"path":"/index.html","id":"apctools-","dir":"","previous_headings":"","what":"Routines for Descriptive and Model-Based APC Analysis","title":"Routines for Descriptive and Model-Based APC Analysis","text":"Routines Descriptive Model-Based APC Analysis Authors: Alexander Bauer, Maximilian Weigert, Hawre Jalal Version: 1.0.2","code":""},{"path":"/index.html","id":"aim-of-this-package","dir":"","previous_headings":"","what":"Aim of this Package","title":"Routines for Descriptive and Model-Based APC Analysis","text":"Age-Period-Cohort (APC) analysis aims determine relevant drivers long-term developments used many fields science. main focus disentangling interconnected effects age, period, cohort. Long-term developments characteristic can either associated changes person’s life cycle (age), macro-level developments years simultaneously affect age groups (period), generational membership individual, shaped similar socialization processes historical experiences (cohort). critical challenge APC analysis linear dependency components age, period, cohort (cohort = period - age). Accordingly, flexible methods visualization techniques needed properly disentangle observed temporal association structures. contrast software packages, APCtools builds flexible robust semiparametric regression approach circumvent identification problem. package includes modern visualization techniques general routines facilitate interpretability estimated temporal structures simplify workflow APC analysis.","code":""},{"path":"/index.html","id":"main-functionality","dir":"","previous_headings":"","what":"Main Functionality","title":"Routines for Descriptive and Model-Based APC Analysis","text":"Sophisticated functions available descriptive regression model-based analyses. former, use density (ridgeline) matrices, classical heatmaps hexamaps (hexagonally binned heatmaps) innovative visualization techniques building concept Lexis diagrams. Model-based analyses build separation temporal dimensions based generalized additive models, tensor product interaction surface (usually age period) utilized represent third dimension (usually cohort) diagonal. tensor product surfaces can also estimated accounting covariates regression model. Useful materials: get overview functionalities package, check package vignette. See Weigert et al. (2021) corresponding research poster methodological details. Hexamaps concept visualization APC structures outlined Jalal & Burke (2020).","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Routines for Descriptive and Model-Based APC Analysis","text":"current version GitHub can installed via","code":"devtools::install_github(\"bauer-alex/APCtools\")"},{"path":"/index.html","id":"how-to-contribute","dir":"","previous_headings":"","what":"How to Contribute","title":"Routines for Descriptive and Model-Based APC Analysis","text":"encounter problems package, find bugs suggestions additional functionalities please open GitHub issue. Alternatively, feel free contact us directly via email. Contributions (via pull requests otherwise) welcome. open pull request share updates us, please make sure unit tests pass without errors warning messages. can run unit tests calling","code":"devtools::test()"},{"path":"/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Routines for Descriptive and Model-Based APC Analysis","text":"Weigert, M., Bauer, ., Gernert, J., Karl, M., Nalmpatian, ., Küchenhoff, H., Schmude, J. (2021). Semiparametric APC analysis destination choice patterns: Using generalized additive models quantify impact age, period, cohort travel distances. Tourism Economics. https://doi.org/10.1177/1354816620987198. Jalal, H., Burke, D. (2020). Hexamaps Age–Period–Cohort Data Visualization Implementation R. Epidemiology, 31 (6), e47-e49. doi: https://doi.org/10.1097/EDE.0000000000001236.","code":""},{"path":"/reference/calc_density.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to calculate the (group-specific) density of a variable — calc_density","title":"Internal helper to calculate the (group-specific) density of a variable — calc_density","text":"Internal helper function called plot_density calculate density metric variable. plot_density called within plot_densityMatrix (.e., columns c(\"age_group\",\"period_group\",\"cohort_group\") part dataset, density computed individually respective APC groups.","code":""},{"path":"/reference/calc_density.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to calculate the (group-specific) density of a variable — calc_density","text":"","code":"calc_density(dat, y_var, weights_var = NULL, ...)"},{"path":"/reference/calc_density.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to calculate the (group-specific) density of a variable — calc_density","text":"dat Dataset columns period age main variable specified argument y_var. y_var Character name main variable plotted. weights_var Optional character name weights variable used project results sample population. ... Additional arguments passed density.","code":""},{"path":"/reference/calc_density.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal helper to calculate the (group-specific) density of a variable — calc_density","text":"Dataset calculated densities.","code":""},{"path":"/reference/capitalize_firstLetter.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal function to capitalize the first letter of a character — capitalize_firstLetter","title":"Internal function to capitalize the first letter of a character — capitalize_firstLetter","text":"Internal helper function capitalize first letter character value. use case create plot label like 'Age' variable name like 'age'.","code":""},{"path":"/reference/capitalize_firstLetter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal function to capitalize the first letter of a character — capitalize_firstLetter","text":"","code":"capitalize_firstLetter(char)"},{"path":"/reference/capitalize_firstLetter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal function to capitalize the first letter of a character — capitalize_firstLetter","text":"char Character value whose first letter capitalized","code":""},{"path":"/reference/compute_xCoordinate.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to tilt the x-axis for the hexamap plot — compute_xCoordinate","title":"Internal helper to tilt the x-axis for the hexamap plot — compute_xCoordinate","text":"Internal helper function called plot_APChexamap, tilt x-axis hexamap plot.","code":""},{"path":"/reference/compute_xCoordinate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to tilt the x-axis for the hexamap plot — compute_xCoordinate","text":"","code":"compute_xCoordinate(period_vec)"},{"path":"/reference/compute_xCoordinate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to tilt the x-axis for the hexamap plot — compute_xCoordinate","text":"period_vec Numeric vector period values.","code":""},{"path":"/reference/compute_yCoordinate.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to tilt the x-axis for the hexamap plot — compute_yCoordinate","title":"Internal helper to tilt the x-axis for the hexamap plot — compute_yCoordinate","text":"Internal helper function called plot_APChexamap, tilt x-axis hexamap plot.","code":""},{"path":"/reference/compute_yCoordinate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to tilt the x-axis for the hexamap plot — compute_yCoordinate","text":"","code":"compute_yCoordinate(period_vec, age_vec)"},{"path":"/reference/compute_yCoordinate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to tilt the x-axis for the hexamap plot — compute_yCoordinate","text":"period_vec Numeric vector period values. age_vec Numeric vector age values.","code":""},{"path":"/reference/create_APCsummary.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a summary table for multiple estimated GAM models — create_APCsummary","title":"Create a summary table for multiple estimated GAM models — create_APCsummary","text":"Create table summarize overall effect strengths age, period cohort effects models fitted gam bam. output format can adjusted passing arguments kable via ... argument.","code":""},{"path":"/reference/create_APCsummary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a summary table for multiple estimated GAM models — create_APCsummary","text":"","code":"create_APCsummary(model_list, dat, digits = 2, apc_range = NULL, ...)"},{"path":"/reference/create_APCsummary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a summary table for multiple estimated GAM models — create_APCsummary","text":"model_list list regression models estimated gam bam. list named, names used labels. dat Dataset columns period age. y_var specified, dataset must contain respective column. model specified, dataset must used model estimation gam bam. digits Number digits numeric columns. Defaults 2. apc_range Optional list one multiple elements names \"age\",\"period\",\"cohort\" filter data. element contain numeric vector values respective variable kept data. values deleted producing table. ... Optional additional arguments passed kable.","code":""},{"path":"/reference/create_APCsummary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a summary table for multiple estimated GAM models — create_APCsummary","text":"Table created kable.","code":""},{"path":"/reference/create_APCsummary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a summary table for multiple estimated GAM models — create_APCsummary","text":"model estimated log logit link, function automatically performs exponential transformation effect.","code":""},{"path":"/reference/create_APCsummary.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Create a summary table for multiple estimated GAM models — create_APCsummary","text":"Alexander Bauer alexander.bauer@stat.uni-muenchen.de","code":""},{"path":"/reference/create_APCsummary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a summary table for multiple estimated GAM models — create_APCsummary","text":"","code":"library(APCtools) library(mgcv) #> Loading required package: nlme #> This is mgcv 1.8-40. For overview type 'help(\"mgcv-package\")'.  data(travel) model_pure <- gam(mainTrip_distance ~ te(age, period), data = travel) model_cov  <- gam(mainTrip_distance ~ te(age, period) + s(household_income),                   data = travel)  model_list <- list(\"pure model\"      = model_pure,                    \"covariate model\" = model_cov)  create_APCsummary(model_list, dat = travel) #>  #>  #> |model           |effect | value_withMaxEffect| value_withMinEffect| max_effect| min_effect| difference| #> |:---------------|:------|-------------------:|-------------------:|----------:|----------:|----------:| #> |pure model      |age    |                  21|                  99|     350.58|    -727.80|    1078.38| #> |pure model      |period |                2018|                1971|     428.09|    -504.89|     932.97| #> |pure model      |cohort |                2004|                1872|     888.11|    -780.49|    1668.60| #> |covariate model |age    |                  14|                  99|     306.88|    -530.72|     837.60| #> |covariate model |period |                2018|                1971|     404.05|    -505.27|     909.32| #> |covariate model |cohort |                2004|                1872|     837.70|    -609.60|    1447.31|"},{"path":"/reference/create_groupVariable.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to create a group variable as base for a density matrix — create_groupVariable","title":"Internal helper to create a group variable as base for a density matrix — create_groupVariable","text":"Internal helper function create group variable based categorization either age, period cohort. called within plot_densityMatrix.","code":""},{"path":"/reference/create_groupVariable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to create a group variable as base for a density matrix — create_groupVariable","text":"","code":"create_groupVariable(dat, APC_var, groups_list)"},{"path":"/reference/create_groupVariable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to create a group variable as base for a density matrix — create_groupVariable","text":"dat Dataset column \"age\", \"period\" \"cohort\", dependent specified APC_var. APC_var One c(\"age\",\"period\",\"cohort\"). groups_list list element specifying borders one row column density matrix. E.g., period visualized decade columns 1980 2009, specify groups_list = list(c(1980,1989), c(1990,1999), c(2000,2009)). list can named specify labels categories.","code":""},{"path":"/reference/create_groupVariable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal helper to create a group variable as base for a density matrix — create_groupVariable","text":"Vector grouping can added additional column data.","code":""},{"path":"/reference/create_highlightDiagonalData.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to create a dataset for ggplot2 to highlight diagonals — create_highlightDiagonalData","title":"Internal helper to create a dataset for ggplot2 to highlight diagonals — create_highlightDiagonalData","text":"Internal helper function create dataset ggplot2 can used highlight specific diagonals density matrix.","code":""},{"path":"/reference/create_highlightDiagonalData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to create a dataset for ggplot2 to highlight diagonals — create_highlightDiagonalData","text":"","code":"create_highlightDiagonalData(dat, highlight_diagonals)"},{"path":"/reference/create_highlightDiagonalData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to create a dataset for ggplot2 to highlight diagonals — create_highlightDiagonalData","text":"dat Dataset columns period age main variable specified argument y_var. highlight_diagonals Optional internal parameter specified plot_density called within plot_densityMatrix. See plot_densityMatrix details.","code":""},{"path":"/reference/create_modelSummary.html","id":null,"dir":"Reference","previous_headings":"","what":"Create model summary tables for multiple estimated GAM models — create_modelSummary","title":"Create model summary tables for multiple estimated GAM models — create_modelSummary","text":"Create publication-ready summary tables linear nonlinear effects models fitted gam bam. output format tables can adjusted passing arguments kable via ... argument.","code":""},{"path":"/reference/create_modelSummary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create model summary tables for multiple estimated GAM models — create_modelSummary","text":"","code":"create_modelSummary(model_list, digits = 2, ...)"},{"path":"/reference/create_modelSummary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create model summary tables for multiple estimated GAM models — create_modelSummary","text":"model_list list APC models digits number displayed digits ... additional arguments kable","code":""},{"path":"/reference/create_modelSummary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create model summary tables for multiple estimated GAM models — create_modelSummary","text":"List tables created kable.","code":""},{"path":"/reference/create_modelSummary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create model summary tables for multiple estimated GAM models — create_modelSummary","text":"model estimated log logit link, function automatically performs exponential transformation effects. table linear coefficients includes estimated coefficient (coef), corresponding standard error (se), lower upper limits 95% confidence intervals (CI_lower, CI_upper) p-values coefficients apart intercept. table nonlinear coefficients include estimated degrees freedom (edf) p-value estimate.","code":""},{"path":"/reference/create_modelSummary.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Create model summary tables for multiple estimated GAM models — create_modelSummary","text":"Alexander Bauer alexander.bauer@stat.uni-muenchen.de","code":""},{"path":"/reference/create_modelSummary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create model summary tables for multiple estimated GAM models — create_modelSummary","text":"","code":"library(APCtools) library(mgcv)  data(travel) model <- gam(mainTrip_distance ~ te(age, period) + residence_region +              household_size + s(household_income), data = travel)  create_modelSummary(list(model), dat = travel) #> [[1]] #>  #>  #> |model   |param                               |     coef|    se| CI_lower| CI_upper|pvalue | #> |:-------|:-----------------------------------|--------:|-----:|--------:|--------:|:------| #> |model 1 |(Intercept)                         |  2327.08| 39.99|  2248.70|  2405.45|-      | #> |model 1 |residence_regionFormer East Germany |   -94.96| 42.69|  -178.63|   -11.30|0.0261 | #> |model 1 |household_size2 persons             |  -545.63| 50.28|  -644.18|  -447.09|<.0001 | #> |model 1 |household_size3 persons             | -1164.36| 62.34| -1286.56| -1042.17|<.0001 | #> |model 1 |household_size4 persons             | -1506.61| 66.32| -1636.59| -1376.62|<.0001 | #> |model 1 |household_size5+ persons            | -1649.11| 94.82| -1834.96| -1463.26|<.0001 | #>  #> [[2]] #>  #>  #> |model   |param               |   edf|pvalue | #> |:-------|:-------------------|-----:|:------| #> |model 1 |te(age,period)      | 13.47|<.0001 | #> |model 1 |s(household_income) |  8.30|<.0001 | #>"},{"path":"/reference/create_oneAPCsummaryTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to create a summary table for one estimated GAM model — create_oneAPCsummaryTable","title":"Internal helper to create a summary table for one estimated GAM model — create_oneAPCsummaryTable","text":"Internal helper function called create_APCsummary. function creates summary table one model estimated gam bam.","code":""},{"path":"/reference/create_oneAPCsummaryTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to create a summary table for one estimated GAM model — create_oneAPCsummaryTable","text":"","code":"create_oneAPCsummaryTable(model, dat, apc_range = NULL)"},{"path":"/reference/create_oneAPCsummaryTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to create a summary table for one estimated GAM model — create_oneAPCsummaryTable","text":"model Optional regression model estimated gam bam estimate smoothed APC surface. used y_var specified. dat Dataset columns period age. y_var specified, dataset must contain respective column. model specified, dataset must used model estimation gam bam. apc_range Optional list one multiple elements names \"age\",\"period\",\"cohort\" filter data. element contain numeric vector values respective variable kept data. values deleted.","code":""},{"path":"/reference/create_oneAPCsummaryTable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal helper to create a summary table for one estimated GAM model — create_oneAPCsummaryTable","text":"data.frame containing aggregated information individual effects.","code":""},{"path":"/reference/drug_deaths.html","id":null,"dir":"Reference","previous_headings":"","what":"Drug deaths of white men in the United States — drug_deaths","title":"Drug deaths of white men in the United States — drug_deaths","text":"Dataset number unintentional drug overdose deaths United States age group 1999 2019, retrieved CDC WONDER Online Database. data cover white men.","code":""},{"path":"/reference/drug_deaths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Drug deaths of white men in the United States — drug_deaths","text":"","code":"data(drug_deaths)"},{"path":"/reference/drug_deaths.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Drug deaths of white men in the United States — drug_deaths","text":"dataframe containing period Calendar year age Age group. deaths Number observed unintentional drug overdose deaths respective age group calendar year. population Number white men respective age group calendar year U.S. population. mortality_rate Drug overdose mortality rate respective age group calendar year, reported number deaths per 100,000 people. Calculated 100000 * deaths / population.","code":""},{"path":"/reference/drug_deaths.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Drug deaths of white men in the United States — drug_deaths","text":"data exported CDC WONDER Online Database (see link references ), based following settings: Group Year Single-Year Ages Demographics: Gender Male; Ethnicity White Cause death: Drug / Alcohol Induced Causes. select specific category Drug poisonings (overdose) Unintentional (X40-X44).","code":""},{"path":"/reference/drug_deaths.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Drug deaths of white men in the United States — drug_deaths","text":"Jalal, H., & Burke, D. S. (2020). Hexamaps Age-Period-Cohort Data Visualization Implementation R. Epidemiology (Cambridge, Mass.), 31(6), e47. doi: 10.1097/EDE.0000000000001236 . Centers Disease Control Prevention, National Center Health Statistics. Underlying Cause Death 1999-2019 CDC WONDER Online Database, released 2020. Data Multiple Cause Death Files, 1999-2019, compiled data provided 57 vital statistics jurisdictions Vital Statistics Cooperative Program. Accessed wonder.cdc.gov/ucd-icd10.html 6 December 2021.","code":""},{"path":"/reference/ensure_segmentsInPlotRange.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper for gg_addReferenceLines to keep diagonal lines in the plot range — ensure_segmentsInPlotRange","title":"Internal helper for gg_addReferenceLines to keep diagonal lines in the plot range — ensure_segmentsInPlotRange","text":"Internal helper function called within gg_addReferenceLines. function takes dataset prepared adding diagonal reference lines plot, checks diagonals exceed plot limits, cuts accordingly, necessary, returns corrected dataset.","code":""},{"path":"/reference/ensure_segmentsInPlotRange.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper for gg_addReferenceLines to keep diagonal lines in the plot range — ensure_segmentsInPlotRange","text":"","code":"ensure_segmentsInPlotRange(dat_segments, plot_dat)"},{"path":"/reference/ensure_segmentsInPlotRange.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper for gg_addReferenceLines to keep diagonal lines in the plot range — ensure_segmentsInPlotRange","text":"dat_segments Dataset containing information diagonal reference lines. plot_dat Dataset used creating heatmap.","code":""},{"path":"/reference/extract_summary_linearEffects.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to extract summary of linear effects in a gam model — extract_summary_linearEffects","title":"Internal helper to extract summary of linear effects in a gam model — extract_summary_linearEffects","text":"Internal helper function create data.frame containing linear effects summary model fitted gam bam.","code":""},{"path":"/reference/extract_summary_linearEffects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to extract summary of linear effects in a gam model — extract_summary_linearEffects","text":"","code":"extract_summary_linearEffects(model)"},{"path":"/reference/extract_summary_linearEffects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to extract summary of linear effects in a gam model — extract_summary_linearEffects","text":"model Model fitted gam bam.","code":""},{"path":"/reference/extract_summary_linearEffects.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Internal helper to extract summary of linear effects in a gam model — extract_summary_linearEffects","text":"model estimated log logit link, function automatically performs exponential transformation effect.","code":""},{"path":"/reference/get_plotGAMobject.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract returned values of plot.gam() while suppressing creation of the plot — get_plotGAMobject","title":"Extract returned values of plot.gam() while suppressing creation of the plot — get_plotGAMobject","text":"Internal helper function extract values returned plot.gam suppressing creation plot.","code":""},{"path":"/reference/get_plotGAMobject.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract returned values of plot.gam() while suppressing creation of the plot — get_plotGAMobject","text":"","code":"get_plotGAMobject(model)"},{"path":"/reference/get_plotGAMobject.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract returned values of plot.gam() while suppressing creation of the plot — get_plotGAMobject","text":"model GAM model fitted gam bam.","code":""},{"path":"/reference/gg_addReferenceLines.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to add reference lines in an APC heatmap — gg_addReferenceLines","title":"Internal helper to add reference lines in an APC heatmap — gg_addReferenceLines","text":"Internal helper function add reference lines APC heatmap (vertically, horizontally diagonally). function takes existing list ggplot objects, adds specified reference lines plot returns edited ggplot list . called within plot_APCheatmap.","code":""},{"path":"/reference/gg_addReferenceLines.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to add reference lines in an APC heatmap — gg_addReferenceLines","text":"","code":"gg_addReferenceLines(   gg_list,   dimensions,   plot_dat,   markLines_list,   markLines_displayLabels )"},{"path":"/reference/gg_addReferenceLines.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to add reference lines in an APC heatmap — gg_addReferenceLines","text":"gg_list Existing list ggplot objects reference lines marked individual ggplot. dimensions Character vector specifying two APC dimensions visualized along x-axis y-axis. Defaults c(\"period\",\"age\"). plot_dat Dataset used creating heatmap. markLines_list Optional list can used highlight borders specific age groups, time intervals cohorts. element must numeric vector values horizontal, vertical diagonal lines drawn (depends APC dimension displayed axis). list can maximally three elements must names c(\"age\",\"period\",\"cohort\"). markLines_displayLabels Optional character vector defining dimensions lines defined markLines_list marked respective label. vector subset c(\"age\",\"period\",\"cohort\"), NULL suppress labels. Defaults c(\"age\",\"period\",\"cohort\").","code":""},{"path":"/reference/gg_highlightDiagonals.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to add the diagonal highlighting to a ggplot — gg_highlightDiagonals","title":"Internal helper to add the diagonal highlighting to a ggplot — gg_highlightDiagonals","text":"Internal helper function highlight diagonals density matrix. function takes existing ggplot object, adds diagonal highlighting returns edited ggplot object .","code":""},{"path":"/reference/gg_highlightDiagonals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to add the diagonal highlighting to a ggplot — gg_highlightDiagonals","text":"","code":"gg_highlightDiagonals(gg, dat, dat_highlightDiagonals)"},{"path":"/reference/gg_highlightDiagonals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to add the diagonal highlighting to a ggplot — gg_highlightDiagonals","text":"gg Existing ggplot object diagonal highlighting added. dat Dataset columns period age main variable specified argument y_var. dat_highlightDiagonals Dataset created create_highlightDiagonalData highlight specific diagonals density matrix.","code":""},{"path":"/reference/plot_1Dsmooth.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot 1D smooth effects for gam models — plot_1Dsmooth","title":"Plot 1D smooth effects for gam models — plot_1Dsmooth","text":"Plots 1D smooth effects GAM model fitted gam bam.","code":""},{"path":"/reference/plot_1Dsmooth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot 1D smooth effects for gam models — plot_1Dsmooth","text":"","code":"plot_1Dsmooth(   model,   plot_ci = TRUE,   select,   alpha = 0.05,   ylim = NULL,   return_plotData = FALSE )"},{"path":"/reference/plot_1Dsmooth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot 1D smooth effects for gam models — plot_1Dsmooth","text":"model GAM model fitted gam bam. plot_ci TRUE CIs plotted. used plot_type = 1. select Index smooth term plotted. alpha (1-alpha) CIs calculated. default 0.05 leads 95% CIs. ylim Optional limits y-axis. return_plotData TRUE, dataset prepared plotting returned. Defaults FALSE.","code":""},{"path":"/reference/plot_1Dsmooth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot 1D smooth effects for gam models — plot_1Dsmooth","text":"ggplot object","code":""},{"path":"/reference/plot_1Dsmooth.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot 1D smooth effects for gam models — plot_1Dsmooth","text":"model estimated log logit link, function automatically performs exponential transformation effect.","code":""},{"path":"/reference/plot_1Dsmooth.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plot 1D smooth effects for gam models — plot_1Dsmooth","text":"Alexander Bauer alexander.bauer@stat.uni-muenchen.de","code":""},{"path":"/reference/plot_1Dsmooth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot 1D smooth effects for gam models — plot_1Dsmooth","text":"","code":"library(APCtools) library(mgcv)  data(travel) model <- gam(mainTrip_distance ~ te(age, period) + residence_region +              household_size + s(household_income), data = travel)  plot_1Dsmooth(model, select = 2)"},{"path":"/reference/plot_APCheatmap.html","id":null,"dir":"Reference","previous_headings":"","what":"Heatmap of an APC surface — plot_APCheatmap","title":"Heatmap of an APC surface — plot_APCheatmap","text":"Plot heatmap APC structure. function can used two ways: Either plot observed mean structure metric variable, specifying dat variable y_var, specifying dat model object, plot mean structure represented estimated two-dimensional tensor product surface. model must estimated gam bam.","code":""},{"path":"/reference/plot_APCheatmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Heatmap of an APC surface — plot_APCheatmap","text":"","code":"plot_APCheatmap(   dat,   y_var = NULL,   model = NULL,   dimensions = c(\"period\", \"age\"),   apc_range = NULL,   bin_heatmap = TRUE,   bin_heatmapGrid_list = NULL,   markLines_list = NULL,   markLines_displayLabels = c(\"age\", \"period\", \"cohort\"),   y_var_logScale = FALSE,   plot_CI = TRUE,   legend_limits = NULL )"},{"path":"/reference/plot_APCheatmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Heatmap of an APC surface — plot_APCheatmap","text":"dat Dataset columns period age. y_var specified, dataset must contain respective column. model specified, dataset must used model estimation gam bam. y_var Optional character name metric variable plotted. model Optional regression model estimated gam bam estimate smoothed APC surface. used y_var specified. dimensions Character vector specifying two APC dimensions visualized along x-axis y-axis. Defaults c(\"period\",\"age\"). apc_range Optional list one multiple elements names \"age\",\"period\",\"cohort\" filter data. element contain numeric vector values respective variable kept data. values deleted. bin_heatmap, bin_heatmapGrid_list bin_heatmap indicates heatmap surface binned. Defaults TRUE. TRUE, binning grid borders defined bin_heatmapGrid_list. list element numeric vector name c(\"age\",\"period\",\"cohort\"). Can maximally three elements. Defaults NULL, heatmap binned 5 year steps along x-axis y-axis. markLines_list Optional list can used highlight borders specific age groups, time intervals cohorts. element must numeric vector values horizontal, vertical diagonal lines drawn (depends APC dimension displayed axis). list can maximally three elements must names c(\"age\",\"period\",\"cohort\"). markLines_displayLabels Optional character vector defining dimensions lines defined markLines_list marked respective label. vector subset c(\"age\",\"period\",\"cohort\"), NULL suppress labels. Defaults c(\"age\",\"period\",\"cohort\"). y_var_logScale Indicator y_var log10 transformed. used y_var specified. Defaults FALSE. plot_CI Indicator confidence intervals plotted. used y_var specified. Defaults TRUE. legend_limits Optional numeric vector passed argument limits scale_fill_gradient2.","code":""},{"path":"/reference/plot_APCheatmap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Heatmap of an APC surface — plot_APCheatmap","text":"Plot grid created ggarrange (plot_CI TRUE) ggplot2 object (plot_CI FALSE).","code":""},{"path":"/reference/plot_APCheatmap.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Heatmap of an APC surface — plot_APCheatmap","text":"See also plot_APChexamap plot hexagonal heatmap adapted axes. plot created based model object model estimated log logit link, function automatically performs exponential transformation effect.","code":""},{"path":"/reference/plot_APCheatmap.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Heatmap of an APC surface — plot_APCheatmap","text":"Weigert, M., Bauer, ., Gernert, J., Karl, M., Nalmpatian, ., Küchenhoff, H., Schmude, J. (2021). Semiparametric APC analysis destination choice patterns: Using generalized additive models quantify impact age, period, cohort travel distances. Tourism Economics. doi:10.1177/1354816620987198.","code":""},{"path":[]},{"path":"/reference/plot_APCheatmap.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Heatmap of an APC surface — plot_APCheatmap","text":"Alexander Bauer alexander.bauer@stat.uni-muenchen.de, Maximilian Weigert maximilian.weigert@stat.uni-muenchen.de","code":""},{"path":"/reference/plot_APCheatmap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Heatmap of an APC surface — plot_APCheatmap","text":"","code":"library(APCtools) library(mgcv)  data(travel)  # variant A: plot observed mean structures # observed heatmap plot_APCheatmap(dat = travel, y_var = \"mainTrip_distance\",                 bin_heatmap = FALSE, y_var_logScale = TRUE)   # with binning plot_APCheatmap(dat = travel, y_var = \"mainTrip_distance\",                 bin_heatmap = TRUE, y_var_logScale = TRUE)   # variant B: plot some smoothed, estimated mean structure model <- gam(mainTrip_distance ~ te(age, period) + residence_region +              household_size + s(household_income), data = travel)  # plot the smooth tensor product surface plot_APCheatmap(dat = travel, model = model, bin_heatmap = FALSE, plot_CI = FALSE)   # ... same plot including the confidence intervals plot_APCheatmap(dat = travel, model = model, bin_heatmap = FALSE)   # the APC dimensions can be flexibly assigned to the x-axis and y-axis plot_APCheatmap(dat = travel, model = model, dimensions = c(\"age\",\"cohort\"),                 bin_heatmap = FALSE, plot_CI = FALSE)   # add some reference lines plot_APCheatmap(dat = travel, model = model, bin_heatmap = FALSE, plot_CI = FALSE,                 markLines_list = list(cohort = c(1910,1939,1955,1980)))   # default binning of the tensor product surface in 5-year-blocks plot_APCheatmap(dat = travel, model = model, plot_CI = FALSE)   # manual binning manual_binning <- list(period = seq(min(travel$period, na.rm = TRUE) - 1,                                     max(travel$period, na.rm = TRUE), by = 5),                        cohort = seq(min(travel$period - travel$age, na.rm = TRUE) - 1,                                     max(travel$period - travel$age, na.rm = TRUE), by = 10)) plot_APCheatmap(dat = travel, model = model, plot_CI = FALSE,                 bin_heatmapGrid_list = manual_binning)"},{"path":"/reference/plot_APChexamap.html","id":null,"dir":"Reference","previous_headings":"","what":"Hexamap of an APC surface — plot_APChexamap","title":"Hexamap of an APC surface — plot_APChexamap","text":"Plot heatmap APC structure using hexagon-based plot adapted axes. way, one temporal dimension represented diagonal structure visually underrepresented compared two dimensions x-axis y-axis.  function can used two ways: Either plot observed mean structure metric variable, specifying dat variable y_var, specifying dat model object, plot mean structure represented estimated two-dimensional tensor product surface. model must estimated gam bam.","code":""},{"path":"/reference/plot_APChexamap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hexamap of an APC surface — plot_APChexamap","text":"","code":"plot_APChexamap(   dat,   y_var = NULL,   model = NULL,   apc_range = NULL,   y_var_logScale = FALSE,   obs_interval = 1,   iso_interval = 5,   color_vec = NULL,   color_range = NULL,   line_width = 0.5,   line_color = gray(0.5),   label_size = 0.5,   label_color = \"black\",   legend_title = NULL )"},{"path":"/reference/plot_APChexamap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Hexamap of an APC surface — plot_APChexamap","text":"dat Dataset columns period age. y_var specified, dataset must contain respective column. model specified, dataset must used model estimation gam bam. y_var Optional character name metric variable plotted. model Optional regression model estimated gam bam estimate smoothed APC surface. used y_var specified. apc_range Optional list one multiple elements names \"age\",\"period\",\"cohort\" filter data. element contain numeric vector values respective variable kept data. values deleted. y_var_logScale Indicator y_var log10 transformed. used y_var specified. Defaults FALSE. obs_interval Numeric specifying interval width based data spaced. used y_var specified. Defaults 1, .e. observations year. iso_interval Numeric specifying interval width isolines along axis. Defaults 5. color_vec Optional character vector color names, specifying color continuum. color_range Optional numeric vector two elements, specifying ends color scale legend. line_width Line width isolines. Defaults 0.5. line_color Character color name isolines. Defaults gray. label_size Size labels along axes. Defaults 0.5. label_color Character color name labels along axes. legend_title Optional character title legend.","code":""},{"path":"/reference/plot_APChexamap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Hexamap of an APC surface — plot_APChexamap","text":"Creates plot base R functions (ggplot2).","code":""},{"path":"/reference/plot_APChexamap.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Hexamap of an APC surface — plot_APChexamap","text":"See also plot_APCheatmap plot regular heatmap. plot created based model object model estimated log logit link, function automatically performs exponential transformation effect.","code":""},{"path":"/reference/plot_APChexamap.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Hexamap of an APC surface — plot_APChexamap","text":"Jalal, H., Burke, D. (2020). Hexamaps Age–Period–Cohort Data Visualization Implementation R. Epidemiology, 31 (6), e47-e49. doi: 10.1097/EDE.0000000000001236.","code":""},{"path":[]},{"path":"/reference/plot_APChexamap.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Hexamap of an APC surface — plot_APChexamap","text":"Hawre Jalal hjalal@pitt.edu, Alexander Bauer alexander.bauer@stat.uni-muenchen.de","code":""},{"path":"/reference/plot_APChexamap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Hexamap of an APC surface — plot_APChexamap","text":"","code":"library(APCtools) library(mgcv) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following object is masked from ‘package:nlme’: #>  #>     collapse #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union  data(drug_deaths)  # restrict to data where the mortality rate is available drug_deaths <- drug_deaths %>% filter(!is.na(mortality_rate))  # hexamap of an observed structure plot_APChexamap(dat         = drug_deaths,                 y_var       = \"mortality_rate\",                 color_range = c(0,40))   # hexamap of a smoothed structure model <- gam(mortality_rate ~ te(age, period, bs = \"ps\", k = c(8,8)),              data = drug_deaths)  plot_APChexamap(dat = drug_deaths, model = model)"},{"path":"/reference/plot_density.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the density of one metric or categorical variable — plot_density","title":"Plot the density of one metric or categorical variable — plot_density","text":"Create density plot boxplot one metric variable barplot one categorical variable, based specific subset data.","code":""},{"path":"/reference/plot_density.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the density of one metric or categorical variable — plot_density","text":"","code":"plot_density(   dat,   y_var,   plot_type = \"density\",   apc_range = NULL,   highlight_diagonals = NULL,   y_var_cat_breaks = NULL,   y_var_cat_labels = NULL,   weights_var = NULL,   log_scale = FALSE,   xlab = NULL,   ylab = NULL,   legend_title = NULL,   ... )"},{"path":"/reference/plot_density.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the density of one metric or categorical variable — plot_density","text":"dat Dataset columns period age main variable specified argument y_var. y_var Character name main variable plotted. plot_type One c(\"density\",\"boxplot\"). used y_var column metric. apc_range Optional list one multiple elements names \"age\",\"period\",\"cohort\" filter data. element contain numeric vector values respective variable kept data. values deleted. highlight_diagonals Optional internal parameter specified plot_density called within plot_densityMatrix. See plot_densityMatrix details. y_var_cat_breaks Optional numeric vector breaks categorize y_var based calling function cut. used highlight categories based different colors. used y_var column numeric. y_var_cat_labels Optional character vector names categories defined based y_var_cat_breaks. length vector must one shorter length(y_var_cat_breaks). used y_var column numeric. weights_var Optional character name weights variable used project results sample population. log_scale Indicator main variable log10 transformed. used y_var column numeric. Defaults FALSE. xlab, ylab, legend_title Optional plot annotations. ... Additional arguments passed density.","code":""},{"path":"/reference/plot_density.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the density of one metric or categorical variable — plot_density","text":"ggplot object","code":""},{"path":"/reference/plot_density.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot the density of one metric or categorical variable — plot_density","text":"plot_density called internally within plot_densityMatrix (.e., dataset contains columns c(\"age_group\",\"period_group\",\"cohort_group\")), function calculate metric densities individually groups.","code":""},{"path":"/reference/plot_density.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plot the density of one metric or categorical variable — plot_density","text":"Alexander Bauer alexander.bauer@stat.uni-muenchen.de, Maximilian Weigert maximilian.weigert@stat.uni-muenchen.de","code":""},{"path":"/reference/plot_density.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the density of one metric or categorical variable — plot_density","text":"","code":"library(APCtools) data(travel)  plot_density(dat = travel, y_var = \"mainTrip_distance\") #> Excluding 9565 missing observations of mainTrip_distance...   plot_density(dat = travel, y_var = \"mainTrip_distance\") #> Excluding 9565 missing observations of mainTrip_distance..."},{"path":"/reference/plot_densityMatrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a matrix of density plots — plot_densityMatrix","title":"Create a matrix of density plots — plot_densityMatrix","text":"function creates matrix individual density plots (.e., ridgeline matrix) boxplots (metric variables) individual barplots (categorical variables). age, period cohort information can either plotted x-axis y-axis.","code":""},{"path":"/reference/plot_densityMatrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a matrix of density plots — plot_densityMatrix","text":"","code":"plot_densityMatrix(   dat,   y_var,   dimensions = c(\"period\", \"age\"),   age_groups = NULL,   period_groups = NULL,   cohort_groups = NULL,   plot_type = \"density\",   highlight_diagonals = NULL,   y_var_cat_breaks = NULL,   y_var_cat_labels = NULL,   weights_var = NULL,   log_scale = FALSE,   legend_title = NULL,   ... )"},{"path":"/reference/plot_densityMatrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a matrix of density plots — plot_densityMatrix","text":"dat Dataset columns period age main variable specified argument y_var. y_var Character name main variable plotted. dimensions Character vector specifying two APC dimensions visualized along x-axis y-axis. Defaults c(\"period\",\"age\"). age_groups, period_groups, cohort_groups list one element specifying borders one row column density matrix. E.g., period visualized decade columns 1980 2009, specify period_groups = list(c(1980,1989), c(1990,1999), c(2000,2009)). list can named specify labels categories. two arguments passed specified dimensions argument. plot_type One c(\"density\",\"boxplot\"). used y_var column metric. highlight_diagonals Optional list define diagonals density highlighted different colors. list element numeric vector stating index diagonals (counted top left) highlighted color. list named, names used legend labels. y_var_cat_breaks Optional numeric vector breaks categorize y_var based calling function cut. used highlight categories based different colors. used y_var column numeric. y_var_cat_labels Optional character vector names categories defined based y_var_cat_breaks. length vector must one shorter length(y_var_cat_breaks). used y_var column numeric. weights_var Optional character name weights variable used project results sample population. log_scale Indicator main variable log10 transformed. used y_var column numeric. Defaults FALSE. legend_title Optional plot annotations. ... Additional arguments passed plot_density.","code":""},{"path":"/reference/plot_densityMatrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a matrix of density plots — plot_densityMatrix","text":"ggplot object","code":""},{"path":"/reference/plot_densityMatrix.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Create a matrix of density plots — plot_densityMatrix","text":"Weigert, M., Bauer, ., Gernert, J., Karl, M., Nalmpatian, ., Küchenhoff, H., Schmude, J. (2021). Semiparametric APC analysis destination choice patterns: Using generalized additive models quantify impact age, period, cohort travel distances. Tourism Economics. doi:10.1177/1354816620987198.","code":""},{"path":"/reference/plot_densityMatrix.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Create a matrix of density plots — plot_densityMatrix","text":"Alexander Bauer alexander.bauer@stat.uni-muenchen.de, Maximilian Weigert maximilian.weigert@stat.uni-muenchen.de","code":""},{"path":"/reference/plot_densityMatrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a matrix of density plots — plot_densityMatrix","text":"","code":"library(APCtools)  # define categorizations for the main trip distance dist_cat_breaks <- c(1,500,1000,2000,6000,100000) dist_cat_labels <- c(\"< 500 km\",\"500 - 1,000 km\", \"1,000 - 2,000 km\",                      \"2,000 - 6,000 km\", \"> 6,000 km\")  age_groups    <- list(c(80,89),c(70,79),c(60,69),c(50,59),c(40,49),c(30,39),c(20,29)) period_groups <- list(c(1971,1979),c(1980,1989),c(1990,1999),c(2000,2009),c(2010,2018)) cohort_groups <- list(c(1980,1989),c(1970,1979),c(1960,1969),c(1950,1959),c(1940,1949),                       c(1930,1939),c(1920,1929))  plot_densityMatrix(dat              = travel,                    y_var            = \"mainTrip_distance\",                    age_groups       = age_groups,                    period_groups    = period_groups,                    log_scale        = TRUE) #> Excluding 9149 missing observations of mainTrip_distance...   # \\donttest{ # highlight two cohorts plot_densityMatrix(dat                 = travel,                    y_var               = \"mainTrip_distance\",                    age_groups          = age_groups,                    period_groups       = period_groups,                    highlight_diagonals = list(\"born 1950 - 1959\" = 8,                                               \"born 1970 - 1979\" = 10),                    log_scale           = TRUE) #> Excluding 9149 missing observations of mainTrip_distance...   # also mark different distance categories plot_densityMatrix(dat              = travel,                    y_var            = \"mainTrip_distance\",                    age_groups       = age_groups,                    period_groups    = period_groups,                    log_scale        = TRUE,                    y_var_cat_breaks = dist_cat_breaks,                    y_var_cat_labels = dist_cat_labels,                    highlight_diagonals = list(\"born 1950 - 1959\" = 8,                                               \"born 1970 - 1979\" = 10),                    legend_title     = \"Distance category\") #> Excluding 9149 missing observations of mainTrip_distance...   # flexibly assign the APC dimensions to the x-axis and y-axis plot_densityMatrix(dat              = travel,                    y_var            = \"mainTrip_distance\",                    dimensions       = c(\"period\",\"cohort\"),                    period_groups    = period_groups,                    cohort_groups    = cohort_groups,                    log_scale        = TRUE,                    y_var_cat_breaks = dist_cat_breaks,                    y_var_cat_labels = dist_cat_labels,                    legend_title     = \"Distance category\") #> Excluding 7922 missing observations of mainTrip_distance...   # use boxplots instead of densities plot_densityMatrix(dat           = travel,                    y_var         = \"mainTrip_distance\",                    plot_type     = \"boxplot\",                    age_groups    = age_groups,                    period_groups = period_groups,                    log_scale     = TRUE,                    highlight_diagonals = list(\"born 1950 - 1959\" = 8,                                               \"born 1970 - 1979\" = 10)) #> Excluding 9149 missing observations of mainTrip_distance... #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique #> Warning: Solution may be nonunique   # plot categorical variables instead of metric ones plot_densityMatrix(dat                 = travel,                    y_var               = \"household_size\",                    age_groups          = age_groups,                    period_groups       = period_groups,                    highlight_diagonals = list(\"born 1950 - 1959\" = 8,                                               \"born 1970 - 1979\" = 10))  # }"},{"path":"/reference/plot_density_categorical.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to plot a categorical density — plot_density_categorical","title":"Internal helper to plot a categorical density — plot_density_categorical","text":"Internal helper function plot one categorical density, called within plot_density.","code":""},{"path":"/reference/plot_density_categorical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to plot a categorical density — plot_density_categorical","text":"","code":"plot_density_categorical(   dat,   y_var,   dat_highlightDiagonals = NULL,   weights_var = NULL,   xlab = NULL,   ylab = NULL )"},{"path":"/reference/plot_density_categorical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to plot a categorical density — plot_density_categorical","text":"dat Dataset columns period age main variable specified argument y_var. y_var Character name main variable plotted. dat_highlightDiagonals Optional dataset created create_highlightDiagonalData highlight specific diagonals density matrix. weights_var Optional character name weights variable used project results sample population. xlab Optional plot annotations. ylab Optional plot annotations.","code":""},{"path":"/reference/plot_density_metric.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to plot a metric density — plot_density_metric","title":"Internal helper to plot a metric density — plot_density_metric","text":"Internal helper function plot one metric density, called within plot_density.","code":""},{"path":"/reference/plot_density_metric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to plot a metric density — plot_density_metric","text":"","code":"plot_density_metric(   dat,   y_var,   plot_type = \"density\",   dat_highlightDiagonals = NULL,   y_var_cat_breaks = NULL,   y_var_cat_labels = NULL,   weights_var = NULL,   log_scale = FALSE,   xlab = NULL,   ylab = NULL,   legend_title = NULL,   ... )"},{"path":"/reference/plot_density_metric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to plot a metric density — plot_density_metric","text":"dat Dataset columns period age main variable specified argument y_var. y_var Character name main variable plotted. plot_type One c(\"density\",\"boxplot\"). used y_var column metric. dat_highlightDiagonals Optional dataset created create_highlightDiagonalData highlight specific diagonals density matrix. y_var_cat_breaks Optional numeric vector breaks categorize y_var based calling function cut. used highlight categories based different colors. used y_var column numeric. y_var_cat_labels Optional character vector names categories defined based y_var_cat_breaks. length vector must one shorter length(y_var_cat_breaks). used y_var column numeric. weights_var Optional character name weights variable used project results sample population. log_scale Indicator main variable log10 transformed. used y_var column numeric. Defaults FALSE. xlab Optional plot annotations. ylab Optional plot annotations. legend_title Optional plot annotations. ... Additional arguments passed density.","code":""},{"path":"/reference/plot_jointMarginalAPCeffects.html","id":null,"dir":"Reference","previous_headings":"","what":"Joint plot to compare the marginal APC effects of multiple models — plot_jointMarginalAPCeffects","title":"Joint plot to compare the marginal APC effects of multiple models — plot_jointMarginalAPCeffects","text":"function creates joint plot marginal APC effects multiple estimated models. creates plot one pane per age, period cohort effect, containing one lines estimated model.","code":""},{"path":"/reference/plot_jointMarginalAPCeffects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Joint plot to compare the marginal APC effects of multiple models — plot_jointMarginalAPCeffects","text":"","code":"plot_jointMarginalAPCeffects(   model_list,   dat,   vlines_list = NULL,   ylab = NULL,   ylim = NULL )"},{"path":"/reference/plot_jointMarginalAPCeffects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Joint plot to compare the marginal APC effects of multiple models — plot_jointMarginalAPCeffects","text":"model_list list regression models estimated gam bam. list named, names used labels. dat Dataset columns period age. y_var specified, dataset must contain respective column. model specified, dataset must used model estimation gam bam. vlines_list Optional list can used highlight borders specific age groups, time intervals cohorts. element must numeric vector values x-axis vertical lines drawn. list can maximally three elements must names c(\"age\",\"period\",\"cohort\". ylab, ylim Optional ggplot2 styling arguments.","code":""},{"path":"/reference/plot_jointMarginalAPCeffects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Joint plot to compare the marginal APC effects of multiple models — plot_jointMarginalAPCeffects","text":"Plot grid created ggarrange.","code":""},{"path":"/reference/plot_jointMarginalAPCeffects.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Joint plot to compare the marginal APC effects of multiple models — plot_jointMarginalAPCeffects","text":"model estimated log logit link, function automatically performs exponential transformation effect.","code":""},{"path":"/reference/plot_jointMarginalAPCeffects.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Joint plot to compare the marginal APC effects of multiple models — plot_jointMarginalAPCeffects","text":"Alexander Bauer alexander.bauer@stat.uni-muenchen.de, Maximilian Weigert maximilian.weigert@stat.uni-muenchen.de","code":""},{"path":"/reference/plot_jointMarginalAPCeffects.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Joint plot to compare the marginal APC effects of multiple models — plot_jointMarginalAPCeffects","text":"","code":"library(APCtools) library(mgcv)  data(travel) model_pure <- gam(mainTrip_distance ~ te(age, period), data = travel) model_cov  <- gam(mainTrip_distance ~ te(age, period) + s(household_income),                   data = travel)  model_list <- list(\"pure model\"      = model_pure,                    \"covariate model\" = model_cov)  plot_jointMarginalAPCeffects(model_list, dat = travel)   # mark specific cohorts plot_jointMarginalAPCeffects(model_list, dat = travel,                              vlines_list = list(\"cohort\" = c(1966.5,1982.5,1994.5)))"},{"path":"/reference/plot_linearEffects.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot linear effects of a gam in an effect plot — plot_linearEffects","title":"Plot linear effects of a gam in an effect plot — plot_linearEffects","text":"Create effect plot linear effects model fitted gam bam.","code":""},{"path":"/reference/plot_linearEffects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot linear effects of a gam in an effect plot — plot_linearEffects","text":"","code":"plot_linearEffects(model, variables = NULL, return_plotData = FALSE)"},{"path":"/reference/plot_linearEffects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot linear effects of a gam in an effect plot — plot_linearEffects","text":"model Model fitted gam bam. variables Optional character vector variable names specifying effects plotted. order vector corresponds order effect plot. argument specified, linear effects plotted according order appearance model output. return_plotData TRUE, dataset prepared plotting returned. Defaults FALSE.","code":""},{"path":"/reference/plot_linearEffects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot linear effects of a gam in an effect plot — plot_linearEffects","text":"ggplot object","code":""},{"path":"/reference/plot_linearEffects.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot linear effects of a gam in an effect plot — plot_linearEffects","text":"model estimated log logit link, function automatically performs exponential transformation effect.","code":""},{"path":"/reference/plot_linearEffects.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plot linear effects of a gam in an effect plot — plot_linearEffects","text":"Alexander Bauer alexander.bauer@stat.uni-muenchen.de","code":""},{"path":"/reference/plot_linearEffects.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot linear effects of a gam in an effect plot — plot_linearEffects","text":"","code":"library(APCtools) library(mgcv)  data(travel) model <- gam(mainTrip_distance ~ te(age, period) + residence_region +              household_size + s(household_income), data = travel)  plot_linearEffects(model)"},{"path":"/reference/plot_marginalAPCeffects.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot of marginal APC effects based on an estimated GAM model — plot_marginalAPCeffects","title":"Plot of marginal APC effects based on an estimated GAM model — plot_marginalAPCeffects","text":"Plot marginal effect age, period cohort, based APC model estimated semiparametric additive regression model gam bam. function simple wrapper plot_partialAPCeffects, called argument hide_partialEffects = TRUE.","code":""},{"path":"/reference/plot_marginalAPCeffects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot of marginal APC effects based on an estimated GAM model — plot_marginalAPCeffects","text":"","code":"plot_marginalAPCeffects(   model,   dat,   variable = \"age\",   vlines_vec = NULL,   return_plotData = FALSE )"},{"path":"/reference/plot_marginalAPCeffects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot of marginal APC effects based on an estimated GAM model — plot_marginalAPCeffects","text":"model Optional regression model estimated gam bam estimate smoothed APC surface. used y_var specified. dat Dataset columns period age. y_var specified, dataset must contain respective column. model specified, dataset must used model estimation gam bam. variable One c(\"age\",\"period\",\"cohort\"), specifying temporal dimension partial effect plots created. vlines_vec Optional numeric vector values x-axis vertical lines drawn. Can used highlight borders specific age groups, time intervals cohorts. return_plotData TRUE, list datasets prepared plotting returned instead ggplot object. list contains one dataset overall effect (= evaluations APC surface plot partial effects) marginal APC effect (matter specified value argument variable). Defaults FALSE.","code":""},{"path":"/reference/plot_marginalAPCeffects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot of marginal APC effects based on an estimated GAM model — plot_marginalAPCeffects","text":"ggplot object","code":""},{"path":"/reference/plot_marginalAPCeffects.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Plot of marginal APC effects based on an estimated GAM model — plot_marginalAPCeffects","text":"Weigert, M., Bauer, ., Gernert, J., Karl, M., Nalmpatian, ., Küchenhoff, H., Schmude, J. (2021). Semiparametric APC analysis destination choice patterns: Using generalized additive models quantify impact age, period, cohort travel distances. Tourism Economics. doi:10.1177/1354816620987198.","code":""},{"path":"/reference/plot_marginalAPCeffects.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plot of marginal APC effects based on an estimated GAM model — plot_marginalAPCeffects","text":"Alexander Bauer alexander.bauer@stat.uni-muenchen.de, Maximilian Weigert maximilian.weigert@stat.uni-muenchen.de","code":""},{"path":"/reference/plot_marginalAPCeffects.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot of marginal APC effects based on an estimated GAM model — plot_marginalAPCeffects","text":"","code":"library(APCtools) library(mgcv)  data(travel) model <- gam(mainTrip_distance ~ te(age, period), data = travel)  plot_marginalAPCeffects(model, dat = travel, variable = \"age\")   # mark specific cohorts plot_marginalAPCeffects(model, dat = travel, variable = \"cohort\",                         vlines_vec = c(1966.5,1982.5,1994.5))"},{"path":"/reference/plot_partialAPCeffects.html","id":null,"dir":"Reference","previous_headings":"","what":"Partial APC plots based on an estimated GAM model — plot_partialAPCeffects","title":"Partial APC plots based on an estimated GAM model — plot_partialAPCeffects","text":"Create partial APC plots based APC model estimated semiparametric additive regression model gam bam.","code":""},{"path":"/reference/plot_partialAPCeffects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Partial APC plots based on an estimated GAM model — plot_partialAPCeffects","text":"","code":"plot_partialAPCeffects(   model,   dat,   variable = \"age\",   hide_partialEffects = FALSE,   vlines_vec = NULL,   return_plotData = FALSE )"},{"path":"/reference/plot_partialAPCeffects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partial APC plots based on an estimated GAM model — plot_partialAPCeffects","text":"model Optional regression model estimated gam bam estimate smoothed APC surface. used y_var specified. dat Dataset columns period age. y_var specified, dataset must contain respective column. model specified, dataset must used model estimation gam bam. variable One c(\"age\",\"period\",\"cohort\"), specifying temporal dimension partial effect plots created. hide_partialEffects TRUE, marginal effect plotted. Defaults FALSE. vlines_vec Optional numeric vector values x-axis vertical lines drawn. Can used highlight borders specific age groups, time intervals cohorts. return_plotData TRUE, list datasets prepared plotting returned instead ggplot object. list contains one dataset overall effect (= evaluations APC surface plot partial effects) marginal APC effect (matter specified value argument variable). Defaults FALSE.","code":""},{"path":"/reference/plot_partialAPCeffects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Partial APC plots based on an estimated GAM model — plot_partialAPCeffects","text":"ggplot object (hide_partialEffects TRUE) plot grid created ggarrange (FALSE).","code":""},{"path":"/reference/plot_partialAPCeffects.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Partial APC plots based on an estimated GAM model — plot_partialAPCeffects","text":"model estimated log logit link, function automatically performs exponential transformation effect.","code":""},{"path":"/reference/plot_partialAPCeffects.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Partial APC plots based on an estimated GAM model — plot_partialAPCeffects","text":"Weigert, M., Bauer, ., Gernert, J., Karl, M., Nalmpatian, ., Küchenhoff, H., Schmude, J. (2021). Semiparametric APC analysis destination choice patterns: Using generalized additive models quantify impact age, period, cohort travel distances. Tourism Economics. doi:10.1177/1354816620987198.","code":""},{"path":"/reference/plot_partialAPCeffects.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Partial APC plots based on an estimated GAM model — plot_partialAPCeffects","text":"Alexander Bauer alexander.bauer@stat.uni-muenchen.de, Maximilian Weigert maximilian.weigert@stat.uni-muenchen.de","code":""},{"path":"/reference/plot_partialAPCeffects.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Partial APC plots based on an estimated GAM model — plot_partialAPCeffects","text":"","code":"library(APCtools) library(mgcv)  data(travel) model <- gam(mainTrip_distance ~ te(age, period), data = travel)  plot_partialAPCeffects(model, dat = travel, variable = \"age\")   # mark specific cohorts plot_partialAPCeffects(model, dat = travel, variable = \"cohort\",                        vlines_vec = c(1966.5,1982.5,1994.5))"},{"path":"/reference/plot_variable.html","id":null,"dir":"Reference","previous_headings":"","what":"Distribution plot of one variable against one APC dimension — plot_variable","title":"Distribution plot of one variable against one APC dimension — plot_variable","text":"Plot distribution one variable data age, period cohort. Creates bar plot categorical variables (see argument geomBar_position) boxplots line plot median values metric variables (see plot_type).","code":""},{"path":"/reference/plot_variable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Distribution plot of one variable against one APC dimension — plot_variable","text":"","code":"plot_variable(   dat,   y_var,   apc_dimension = \"period\",   log_scale = FALSE,   plot_type = \"boxplot\",   geomBar_position = \"fill\",   legend_title = NULL,   ylab = NULL,   ylim = NULL )"},{"path":"/reference/plot_variable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Distribution plot of one variable against one APC dimension — plot_variable","text":"dat Dataset containing columns age period. y_var Character name variable plot. apc_dimension One c(\"age\",\"period\",\"cohort\"). Defaults \"period\". log_scale Indicator visualized variable log10 transformed. used variable numeric. Defaults FALSE. plot_type One c(\"boxplot\",\"line\",\"line-points\"), specifying boxplots line plot median values drawn metric variables. \"line-points\" adds points line plot observations available. geomBar_position Value passed geom_bar position argument. used visualized variable categorical. Defaults \"fill\". legend_title Optional character title legend drawn categorical variables. ylab, ylim Optional arguments styling ggplot.","code":""},{"path":"/reference/plot_variable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Distribution plot of one variable against one APC dimension — plot_variable","text":"ggplot object","code":""},{"path":"/reference/plot_variable.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Distribution plot of one variable against one APC dimension — plot_variable","text":"Alexander Bauer alexander.bauer@stat.uni-muenchen.de","code":""},{"path":"/reference/plot_variable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Distribution plot of one variable against one APC dimension — plot_variable","text":"","code":"library(APCtools) data(travel)  # plot a metric variable plot_variable(dat = travel, y_var = \"mainTrip_distance\",               apc_dimension = \"period\", log_scale = TRUE) #> Excluding 9565 missing observations of mainTrip_distance...  plot_variable(dat = travel, y_var = \"mainTrip_distance\",               apc_dimension = \"period\", log_scale = TRUE, plot_type = \"line\") #> Excluding 9565 missing observations of mainTrip_distance...   # plot a categorical variable plot_variable(dat = travel, y_var = \"household_size\", apc_dimension = \"period\") #> Excluding 10 missing observations of household_size...  plot_variable(dat = travel, y_var = \"household_size\", apc_dimension = \"period\",               geomBar_position = \"stack\") #> Excluding 10 missing observations of household_size..."},{"path":"/reference/travel.html","id":null,"dir":"Reference","previous_headings":"","what":"Data from the German Reiseanalyse survey — travel","title":"Data from the German Reiseanalyse survey — travel","text":"dataset Reiseanalyse survey comprises travel information German travelers 1971 2018. Data collected yearly repeated cross-sectional survey German pleasure travels, based sample representative (West) German citizens (2009) German-speaking residents (starting 2010). Travelers former East Germany included since 1990. Note sample contains trips least five days trip length. details see Weigert et al. (2021).","code":""},{"path":"/reference/travel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data from the German Reiseanalyse survey — travel","text":"","code":"data(travel)"},{"path":"/reference/travel.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Data from the German Reiseanalyse survey — travel","text":"dataframe containing period Year respondent traveled. age Age respondent. sampling_weight Individual weight respondent account perfectly representative sample project sample results population German citizens (2009) German-speaking residents (starting 2010). available since 1974. german_citizenship Indicator respondent German citizen . available since 2010. 2009, respondents German citizens. residence_region Indicator respondent's main residence federal state former area West Germany former area East Germany. household size Categorized size respondent's household. household_income Joint income (€) respondent's household. mainTrip_duration Categorized trip length respondent's main trip. main trip trip respondent stated /important trip respective year. mainTrip_distance Distance (km) center respondent's federal state center country destination, main trip. main trip trip respondent stated /important trip respective year.","code":""},{"path":"/reference/travel.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Data from the German Reiseanalyse survey — travel","text":"data 10% random sample respondents undertook least one trip respective year, 1971 2018. thank Forschungsgemeinschaft Urlaub und Reisen e.V. allowing us publish sample.","code":""},{"path":"/reference/travel.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Data from the German Reiseanalyse survey — travel","text":"Weigert, M., Bauer, ., Gernert, J., Karl, M., Nalmpatian, ., Küchenhoff, H., Schmude, J. (2021). Semiparametric APC analysis destination choice patterns: Using generalized additive models quantify impact age, period, cohort travel distances. Tourism Economics. doi: 10.1177/1354816620987198 . Forschungsgemeinschaft Urlaub und Reisen e.V. (FUR) (2020b) Survey tourist demand Germany holiday travel short breaks. Available : https://reiseanalyse.de/wp-content/uploads/2019/08/RA2020_Infoflyer_EN.pdf (accessed 22 November 2021).","code":""},{"path":"/news/index.html","id":"apctools-102-2022-02","dir":"Changelog","previous_headings":"","what":"APCtools 1.0.2 (2022-02)","title":"APCtools 1.0.2 (2022-02)","text":"Fixed computation confidence intervals smooth effects","code":""},{"path":"/news/index.html","id":"apctools-101-2022-01","dir":"Changelog","previous_headings":"","what":"APCtools 1.0.1 (2022-01)","title":"APCtools 1.0.1 (2022-01)","text":"CRAN release: 2022-01-11 Fixed unit test error raised CRAN","code":""},{"path":"/news/index.html","id":"apctools-100-2022-01","dir":"Changelog","previous_headings":"","what":"APCtools 1.0.0 (2022-01)","title":"APCtools 1.0.0 (2022-01)","text":"CRAN release: 2022-01-05 First stable package version","code":""}]
